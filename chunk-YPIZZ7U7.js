import{a as N}from"./chunk-JSI25OHT.js";import{a as se}from"./chunk-QWPHJZNM.js";import{a as de}from"./chunk-GDCIMU4X.js";import{a as le}from"./chunk-ZPGUFHCW.js";import{p as re,q as oe,v as ae}from"./chunk-ELF6RP2M.js";import{a as ee}from"./chunk-YL3TDIGQ.js";import{a as ne}from"./chunk-OBD3L7BG.js";import{c as te,d as ie}from"./chunk-MXBDCOJX.js";import{g as X,l as Y}from"./chunk-JHAYVYNF.js";import{k as $}from"./chunk-BPDV6QKT.js";import{Cb as v,Db as k,F as R,Ka as q,Oa as i,Ob as A,Rb as s,Sb as S,Tb as m,Ub as G,X as B,Za as J,aa as W,ba as E,ca as T,da as I,dc as D,ga as Z,gb as Q,gc as d,hc as c,ic as P,ja as b,nc as V,ob as x,oc as U,pb as g,qc as K,r as z,rb as O,rc as F,sb as j,tb as L,ub as t,vb as o,wb as w,zb as M}from"./chunk-4EEEF725.js";var pe=e=>({ownerId:e}),ce=e=>({count:e}),me=(e,p)=>p.version,_e=(e,p)=>p.name,ke=(e,p)=>p.id;function ue(e,p){e&1&&(t(0,"div",1),T(),t(1,"svg",27),w(2,"path",31),o(),I(),t(3,"span"),s(4),d(5,"transloco"),o()()),e&2&&(i(4),S(c(5,1,"admin.workers.deletion_success")))}function he(e,p){if(e&1){let n=M();t(0,"div",4),T(),t(1,"svg",27),w(2,"path",32),o(),I(),t(3,"span"),s(4),o(),t(5,"button",33),v("click",function(){W(n);let a=k();return E(a.clearError())}),s(6," Dismiss "),o()()}if(e&2){let n=k();i(4),S(n.errorMessage())}}function fe(e,p){if(e&1){let n=M();t(0,"div",5)(1,"div",34)(2,"span",35),s(3),d(4,"transloco"),o(),t(5,"button",36),v("click",function(){W(n);let a=k();return E(a.ownerFilterCleared.emit())}),s(6),d(7,"transloco"),o()()()}if(e&2){let n=k();i(3),m(" ",P(4,2,"admin.workers.filtering_by_owner",D(7,pe,n.filterOwnerId()))," "),i(3),m(" ",c(7,5,"admin.workers.clear_filter")," ")}}function xe(e,p){if(e&1){let n=M();t(0,"div",6)(1,"div",37)(2,"p",38),s(3),d(4,"transloco"),o(),t(5,"button",39),v("click",function(){W(n);let a=k();return E(a.ownerFilterCleared.emit())}),s(6),d(7,"transloco"),o()()()}if(e&2){let n=k();i(3),m(" ",P(4,2,"admin.workers.owner_not_found",D(7,pe,n.filterOwnerId()))," "),i(3),m(" ",c(7,5,"admin.workers.view_all_workers")," ")}}function ge(e,p){e&1&&w(0,"div",14)}function Ce(e,p){e&1&&(T(),t(0,"svg",9),w(1,"path",40),o())}function ve(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.total_mps"),": ")}function we(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.total_tokens"),": ")}function Te(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.mean_interrogation"),": ")}function Se(e,p){if(e&1){let n=M();t(0,"div",43),v("click",function(){W(n);let a=k(2);return E(a.toggleStatistics())}),t(1,"div",44)(2,"div",45)(3,"div",18)(4,"span",46),s(5),d(6,"transloco"),o(),t(7,"span",47),s(8),o()(),t(9,"div",18)(10,"span",46),s(11),d(12,"transloco"),o(),t(13,"span",47),s(14),o()(),t(15,"div",18)(16,"span",46),x(17,ve,2,3)(18,we,2,3)(19,Te,2,3),o(),t(20,"span",47),s(21),d(22,"number"),o()()(),t(23,"div",18)(24,"span",46),s(25),d(26,"transloco"),o(),t(27,"button",48),d(28,"transloco"),T(),t(29,"svg",27),w(30,"path",49),o()()()()()}if(e&2){let n=k(2);i(5),m("",c(6,9,"admin.workers.stats.total_workers"),":"),i(3),S(n.totalWorkers()),i(3),m("",c(12,11,"admin.workers.stats.total_threads"),":"),i(3),S(n.totalThreads()),i(3),g(n.workerType()==="image"?17:n.workerType()==="text"?18:19),i(4),G("",P(22,13,n.totalPerformance(),"1.2-2")," ",n.performanceLabel()),i(4),S(c(26,16,"admin.workers.stats.more_stats")),i(2),L("title",c(28,18,"admin.workers.stats.expand"))}}function be(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.total_mps")," ")}function ye(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.total_tokens")," ")}function We(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.mean_interrogation")," ")}function Ee(e,p){if(e&1&&(t(0,"a",67),s(1),o()),e&2){let n=k().$implicit;L("href",n.parsed.url,q),i(),m(" ",n.parsed.url," ")}}function Ie(e,p){if(e&1&&(t(0,"div",61)(1,"div",64)(2,"span",65),s(3),o(),t(4,"span",66),s(5),o()(),x(6,Ee,2,2,"a",67),o()),e&2){let n=p.$implicit;i(3),S(n.parsed.displayName),i(2),S(n.count),i(),g(n.parsed.url?6:-1)}}function Le(e,p){e&1&&(s(0),d(1,"transloco")),e&2&&m(" ",c(1,1,"admin.workers.stats.hide_additional")," ")}function Ve(e,p){if(e&1&&(s(0),d(1,"transloco")),e&2){let n=k(4);m(" ",P(1,1,"admin.workers.stats.show_more",D(4,ce,n.workerVersions().length-3))," ")}}function Me(e,p){if(e&1){let n=M();t(0,"button",68),v("click",function(){W(n);let a=k(3);return E(a.toggleWorkerVersions())}),x(1,Le,2,3)(2,Ve,2,6),o()}if(e&2){let n=k(3);i(),g(n.workerVersionsExpanded()?1:2)}}function Be(e,p){if(e&1&&(t(0,"div",56)(1,"div",71),s(2),o(),t(3,"div",72)(4,"div",47),s(5),d(6,"number"),t(7,"span",19),s(8),o()(),t(9,"div",66),s(10),d(11,"transloco"),d(12,"transloco"),o()()()),e&2){let n=p.$implicit,r=k(4);i(2),S(n.name),i(3),m(" ",P(6,5,n.totalPerformance,"1.2-2")," "),i(3),S(r.performanceLabel()),i(2),G(" ",n.workerCount," ",n.workerCount===1?c(11,8,"admin.workers.stats.worker"):c(12,10,"admin.workers.stats.workers")," ")}}function Pe(e,p){if(e&1&&(t(0,"div",63)(1,"h3",69),s(2),d(3,"transloco"),o(),t(4,"div",70),O(5,Be,13,12,"div",56,_e),o()()),e&2){let n=k(3);i(2),m(" ",c(3,1,"admin.workers.stats.capabilities")," "),i(3),j(n.capabilityStats())}}function Fe(e,p){if(e&1){let n=M();t(0,"div",42)(1,"div",50)(2,"div",51)(3,"h2",52),s(4),d(5,"transloco"),o(),t(6,"button",53),d(7,"transloco"),v("click",function(){W(n);let a=k(2);return E(a.toggleStatistics())}),T(),t(8,"svg",27),w(9,"path",54),o()()(),I(),t(10,"div",55)(11,"div",56)(12,"div",57),s(13),d(14,"transloco"),o(),t(15,"div",58),s(16),o()(),t(17,"div",56)(18,"div",57),s(19),d(20,"transloco"),o(),t(21,"div",58),s(22),o()(),t(23,"div",56)(24,"div",57),x(25,be,2,3)(26,ye,2,3)(27,We,2,3),o(),t(28,"div",58),s(29),d(30,"number"),t(31,"span",19),s(32),o()()(),t(33,"div",56)(34,"div",59),s(35),d(36,"transloco"),o(),t(37,"div",60),O(38,Ie,7,3,"div",61,me),x(40,Me,3,1,"button",62),o()()(),x(41,Pe,7,3,"div",63),o()()}if(e&2){let n=k(2);i(4),m(" ",c(5,12,"admin.workers.statistics")," "),i(2),L("title",c(7,14,"admin.workers.stats.collapse")),i(7),m(" ",c(14,16,"admin.workers.stats.total_workers")," "),i(3),S(n.totalWorkers()),i(3),m(" ",c(20,18,"admin.workers.stats.total_threads")," "),i(3),S(n.totalThreads()),i(3),g(n.workerType()==="image"?25:n.workerType()==="text"?26:27),i(4),m(" ",P(30,20,n.totalPerformance(),"1.2-2")," "),i(3),S(n.performanceLabel()),i(3),m(" ",c(36,23,"admin.workers.stats.worker_versions")," "),i(3),j(n.workerVersionsExpanded()?n.workerVersions():n.workerVersions().slice(0,3)),i(2),g(n.workerVersions().length>3?40:-1),i(),g(n.workerType()==="image"&&n.capabilityStats().length>0?41:-1)}}function He(e,p){if(e&1&&x(0,Se,31,20,"div",41)(1,Fe,42,25,"div",42),e&2){let n=k();g(n.statisticsCollapsed()?0:1)}}function Oe(e,p){e&1&&(t(0,"option",25),s(1),d(2,"transloco"),o()),e&2&&(i(),m(" ",c(2,1,"admin.workers.sort.mps_generated")," "))}function je(e,p){e&1&&(T(),t(0,"svg",27),w(1,"path",54),o())}function Ae(e,p){e&1&&(T(),t(0,"svg",27),w(1,"path",49),o())}function De(e,p){e&1&&(t(0,"div",28),T(),t(1,"svg",73),w(2,"circle",74)(3,"path",75),o(),I(),t(4,"p",76),s(5),d(6,"transloco"),o()()),e&2&&(i(5),m(" ",c(6,1,"admin.workers.loading")," "))}function Ke(e,p){e&1&&(t(0,"div",29),T(),t(1,"svg",77),w(2,"path",78),o(),I(),t(3,"p",79),s(4),d(5,"transloco"),o()()),e&2&&(i(4),m(" ",c(5,1,"admin.workers.no_workers")," "))}function $e(e,p){if(e&1){let n=M();t(0,"app-worker-card",81),v("workerUpdated",function(){W(n);let a=k(2);return E(a.onWorkerUpdated())})("workerDeleted",function(a){W(n);let l=k(2);return E(l.onWorkerDeleted(a))})("clearHighlight",function(){W(n);let a=k(2);return E(a.onHighlightCleared())}),o()}if(e&2){let n,r=p.$implicit,a=k(2);L("worker",r)("isModerator",((n=a.auth.currentUser())==null?null:n.moderator)??!1)("viewMode",a.viewMode())("availableTeams",a.teams())("highlighted",a.isWorkerHighlighted(r.id))}}function Ge(e,p){if(e&1&&(t(0,"div",30),O(1,$e,1,5,"app-worker-card",80,ke),o()),e&2){let n=k();i(),j(n.filteredWorkers())}}var st=(()=>{let p=class p{constructor(){this.title=B(Y),this.translator=B(ne),this.destroyRef=B(Z),this.workerService=B(le),this.teamService=B(se),this.auth=B(ee),this.viewMode=F("admin"),this.titleKey=F("admin.workers.title"),this.setPageTitle=F(!0),this.initialWorkerType=F(null),this.highlightWorkerId=F(null),this.filterOwnerId=F(null),this.workerTypeChanged=K(),this.ownerFilterCleared=K(),this.highlightCleared=K(),this.workers=b([]),this.teams=b([]),this.loading=b(!0),this.errorMessage=b(null),this.filterText=b(""),this.workerType=b("image"),this.sortKey=b("name"),this.sortOrder=b("asc"),this.workerVersionsExpanded=b(!1),this.statisticsCollapsed=b(!0),this.deletionSuccessMessage=b(!1),this.initialTypeApplied=!1,this.pendingScrollToWorker=!1,this.filteredWorkers=V(()=>{let r=this.workers().filter(h=>h.type===this.workerType()),a=this.filterOwnerId();a&&(r=r.filter(h=>{let y=N(h.owner);return y!==null&&y.toString()===a}));let l=this.filterText().toLowerCase();l&&(r=r.filter(h=>h.name.toLowerCase().includes(l)||(h.owner??"").toLowerCase().includes(l)||h.id.toLowerCase().includes(l)||(h.bridge_agent??"").toLowerCase().includes(l)||(h.team?.name??"").toLowerCase().includes(l)));let _=this.highlightWorkerId(),f=this.sortKey(),H=this.sortOrder();return r=[...r].sort((h,y)=>{if(_){if(h.id===_)return-1;if(y.id===_)return 1}let u=h[f],C=y[f];return f==="performance"&&(u=parseFloat(h.performance)||0,C=parseFloat(y.performance)||0),f==="megapixelsteps_generated"&&(u=h.megapixelsteps_generated??0,C=y.megapixelsteps_generated??0),typeof u=="string"&&typeof C=="string"?(u=u.toLowerCase(),C=C.toLowerCase(),H==="asc"?u.localeCompare(C):C.localeCompare(u)):H==="asc"?u-C:C-u}),r}),this.ownerNotFound=V(()=>{let r=this.filterOwnerId();if(!r)return!1;let a=this.workers();return this.loading()||a.length===0?!1:!a.some(_=>{let f=N(_.owner);return f!==null&&f.toString()===r})}),this.totalWorkers=V(()=>this.filteredWorkers().length),this.totalThreads=V(()=>this.filteredWorkers().reduce((r,a)=>r+a.threads,0)),this.totalPerformance=V(()=>{let r=this.filteredWorkers();if(r.length===0)return 0;let a=r.reduce((l,_)=>l+(parseFloat(_.performance)||0),0);return this.workerType()==="interrogation"?a/r.length:a}),this.performanceLabel=V(()=>this.workerType()==="interrogation"?"seconds per form":this.workerType()==="image"?"MPS/S":"tokens/s"),this.workerVersions=V(()=>{let r=new Map;return this.filteredWorkers().forEach(a=>{let l=a.bridge_agent||"Unknown";r.set(l,(r.get(l)||0)+1)}),Array.from(r.entries()).map(([a,l])=>{let _=this.parseWorkerVersion(a);return{version:a,count:l,parsed:_}}).sort((a,l)=>l.count-a.count)}),this.capabilityStats=V(()=>{let r=this.filteredWorkers(),a=[];if(this.workerType()==="image"){let l={name:"img2img",totalPerformance:0,workerCount:0},_={name:"painting",totalPerformance:0,workerCount:0},f={name:"post-processing",totalPerformance:0,workerCount:0},H={name:"lora",totalPerformance:0,workerCount:0},h={name:"controlnet",totalPerformance:0,workerCount:0},y={name:"sdxl_controlnet",totalPerformance:0,workerCount:0};return r.forEach(u=>{let C=parseFloat(u.performance)||0;u.img2img&&(l.totalPerformance+=C,l.workerCount++),u.painting&&(_.totalPerformance+=C,_.workerCount++),u["post-processing"]&&(f.totalPerformance+=C,f.workerCount++),u.lora&&(H.totalPerformance+=C,H.workerCount++),u.controlnet&&(h.totalPerformance+=C,h.workerCount++),u.sdxl_controlnet&&(y.totalPerformance+=C,y.workerCount++)}),[l,_,f,H,h,y].filter(u=>u.workerCount>0)}return a}),U(()=>{let r=this.initialWorkerType();r&&!this.initialTypeApplied&&(this.workerType.set(r),this.initialTypeApplied=!0)}),U(()=>{let r=this.highlightWorkerId(),a=this.workers();if(r&&a.length>0&&!this.initialTypeApplied){let l=a.find(_=>_.id===r);l&&(this.workerType.set(l.type),this.initialTypeApplied=!0,this.pendingScrollToWorker=!0)}}),Q(()=>{this.loadWorkers(),this.loadTeams()})}setWorkerType(r){this.workerType()!==r&&(this.workerType.set(r),this.filterText.set(""),r!=="image"&&this.sortKey()==="megapixelsteps_generated"&&this.sortKey.set("name"),this.workerTypeChanged.emit(r))}isWorkerHighlighted(r){return this.highlightWorkerId()===r}parseWorkerVersion(r){let a=r.split(":");if(a.length>=3){let l=a[0].trim(),_=a[1].trim(),f=a.slice(2).join(":").trim();return{displayName:`${l} v${_}`,url:f||null}}else if(a.length===2){let l=a[0].trim(),_=a[1].trim();return{displayName:`${l} v${_}`,url:null}}return{displayName:r,url:null}}ngOnInit(){this.setPageTitle()&&z([this.translator.get(this.titleKey()),this.translator.get("app_title")]).pipe($(this.destroyRef)).subscribe(([r,a])=>{this.title.setTitle(`${r} | ${a}`)})}loadWorkers(){this.errorMessage.set(null),this.loading.set(!0),this.workerService.getWorkers().pipe($(this.destroyRef),R(()=>this.loading.set(!1))).subscribe({next:r=>{this.workers.set(r)},error:()=>{this.errorMessage.set("Failed to load workers."),this.workers.set([])}})}loadTeams(){this.teamService.getTeams().pipe($(this.destroyRef)).subscribe({next:r=>{this.teams.set(r)},error:()=>{this.teams.set([])}})}refreshWorkers(){this.loadWorkers()}onFilterChange(r){let a=r.target;this.filterText.set(a.value)}onSortKeyChange(r){this.sortKey.set(r)}toggleSortOrder(){this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc")}onWorkerUpdated(){this.loadWorkers()}onWorkerDeleted(r){this.workers.update(a=>a.filter(l=>l.id!==r)),this.deletionSuccessMessage.set(!0),setTimeout(()=>this.deletionSuccessMessage.set(!1),5e3)}onHighlightCleared(){window.scrollTo({top:0,behavior:"smooth"}),this.highlightCleared.emit()}toggleWorkerVersions(){this.workerVersionsExpanded.set(!this.workerVersionsExpanded())}toggleStatistics(){this.statisticsCollapsed.set(!this.statisticsCollapsed())}clearError(){this.errorMessage.set(null)}};p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=J({type:p,selectors:[["app-worker-list"]],inputs:{viewMode:[1,"viewMode"],titleKey:[1,"titleKey"],setPageTitle:[1,"setPageTitle"],initialWorkerType:[1,"initialWorkerType"],highlightWorkerId:[1,"highlightWorkerId"],filterOwnerId:[1,"filterOwnerId"]},outputs:{workerTypeChanged:"workerTypeChanged",ownerFilterCleared:"ownerFilterCleared",highlightCleared:"highlightCleared"},decls:61,vars:56,consts:[[1,"admin-container-lg"],["role","status","aria-live","polite",1,"toast","toast-success"],[1,"admin-header"],[1,"admin-heading-page"],["role","alert","aria-live","assertive",1,"toast","toast-error"],[1,"filter-notice","mb-4"],[1,"card","card-bg-primary","card-full","card-spaced","mb-4"],[1,"details-tabs","mb-6"],["type","button",1,"details-tab",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"icon-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"],["type","button",1,"btn-source-control",3,"click","disabled"],["aria-hidden","true",1,"spinner","spinner-sm"],[1,"flex","flex-wrap","items-center","gap-3","mb-6"],[1,"flex-1","min-w-64"],["type","text",1,"form-input","w-full",3,"input","value","placeholder"],[1,"flex","items-center","gap-2"],[1,"text-sm","admin-text-muted"],[1,"form-input","w-48",3,"change","value"],["value","name"],["value","performance"],["value","bridge_agent"],["value","uptime"],["value","megapixelsteps_generated"],[1,"btn-icon",3,"click","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"admin-loading"],[1,"admin-empty"],[1,"worker-grid"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["type","button",1,"btn-muted","text-xs",3,"click"],[1,"filter-notice-content"],[1,"filter-notice-text"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"text-center","py-6"],[1,"text-secondary","mb-4"],["type","button",1,"btn","btn-primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"panel","dark:bg-gray-800","mb-6","cursor-pointer","hover:bg-opacity-90","transition-colors"],[1,"panel","dark:bg-gray-800","mb-6"],[1,"panel","dark:bg-gray-800","mb-6","cursor-pointer","hover:bg-opacity-90","transition-colors",3,"click"],[1,"p-4","flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-6","flex-wrap"],[1,"admin-text-muted","text-sm"],[1,"data-value","text-lg"],["type","button",1,"btn-icon","shrink-0",3,"title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"admin-heading-section"],["type","button",1,"btn-icon",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"data-grid-1-2-3","mb-6"],[1,"data-item-box","admin-bg-dark"],[1,"data-label"],[1,"data-value-lg"],[1,"data-label","mb-2"],[1,"space-y-2"],[1,"flex","flex-col","gap-1"],[1,"admin-link","text-xs","text-left"],[1,"admin-border-t","pt-6"],[1,"flex","justify-between","items-center"],[1,"admin-text-white","text-sm","font-medium"],[1,"admin-badge","admin-badge-capability"],["target","_blank","rel","noopener noreferrer",1,"admin-link","text-xs","truncate",3,"href"],[1,"admin-link","text-xs","text-left",3,"click"],[1,"admin-heading-card","mb-3"],[1,"data-grid-1-2-3"],[1,"data-label","mb-1"],[1,"flex","justify-between","items-baseline","gap-2"],["fill","none","viewBox","0 0 24 24",1,"admin-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"admin-spinner-track"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"admin-spinner-head"],[1,"admin-loading-text"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-empty-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"],[1,"admin-empty-text"],[3,"worker","isModerator","viewMode","availableTeams","highlighted"],[3,"workerUpdated","workerDeleted","clearHighlight","worker","isModerator","viewMode","availableTeams","highlighted"]],template:function(a,l){a&1&&(t(0,"div",0),x(1,ue,6,3,"div",1),t(2,"div",2)(3,"h1",3),s(4),d(5,"transloco"),o()(),x(6,he,7,1,"div",4),x(7,fe,8,9,"div",5),x(8,xe,8,9,"div",6),t(9,"div",7)(10,"button",8),v("click",function(){return l.setWorkerType("image")}),T(),t(11,"svg",9),w(12,"path",10),o(),s(13),d(14,"transloco"),o(),I(),t(15,"button",8),v("click",function(){return l.setWorkerType("text")}),T(),t(16,"svg",9),w(17,"path",11),o(),s(18),d(19,"transloco"),o(),I(),t(20,"button",8),v("click",function(){return l.setWorkerType("interrogation")}),T(),t(21,"svg",9),w(22,"path",12),o(),s(23),d(24,"transloco"),o(),I(),t(25,"button",13),v("click",function(){return l.refreshWorkers()}),x(26,ge,1,0,"div",14)(27,Ce,2,0,":svg:svg",9),s(28),d(29,"transloco"),o()(),x(30,He,2,1),t(31,"div",15)(32,"div",16)(33,"input",17),d(34,"transloco"),v("input",function(f){return l.onFilterChange(f)}),o()(),t(35,"div",18)(36,"label",19),s(37),d(38,"transloco"),o(),t(39,"select",20),v("change",function(f){return l.onSortKeyChange(f.target.value)}),t(40,"option",21),s(41),d(42,"transloco"),o(),t(43,"option",22),s(44),d(45,"transloco"),o(),t(46,"option",23),s(47),d(48,"transloco"),o(),t(49,"option",24),s(50),d(51,"transloco"),o(),x(52,Oe,3,3,"option",25),o()(),t(53,"button",26),d(54,"transloco"),d(55,"transloco"),v("click",function(){return l.toggleSortOrder()}),x(56,je,2,0,":svg:svg",27)(57,Ae,2,0,":svg:svg",27),o()(),x(58,De,7,3,"div",28)(59,Ke,6,3,"div",29)(60,Ge,3,0,"div",30),o()),a&2&&(i(),g(l.deletionSuccessMessage()?1:-1),i(3),m(" ",c(5,30,l.titleKey())," "),i(2),g(l.errorMessage()?6:-1),i(),g(l.filterOwnerId()?7:-1),i(),g(l.ownerNotFound()?8:-1),i(2),A("details-tab-active",l.workerType()==="image"),i(3),m(" ",c(14,32,"admin.workers.tabs.image")," "),i(2),A("details-tab-active",l.workerType()==="text"),i(3),m(" ",c(19,34,"admin.workers.tabs.text")," "),i(2),A("details-tab-active",l.workerType()==="interrogation"),i(3),m(" ",c(24,36,"admin.workers.tabs.interrogation")," "),i(2),L("disabled",l.loading()),i(),g(l.loading()?26:27),i(2),m(" ",c(29,38,"admin.workers.refresh")," "),i(2),g(!l.loading()&&l.filteredWorkers().length>0?30:-1),i(3),L("value",l.filterText())("placeholder",c(34,40,"admin.workers.filter_placeholder")),i(4),m("",c(38,42,"admin.workers.sort_by"),":"),i(2),L("value",l.sortKey()),i(2),m(" ",c(42,44,"admin.workers.sort.name")," "),i(3),m(" ",c(45,46,"admin.workers.sort.performance")," "),i(3),m(" ",c(48,48,"admin.workers.sort.bridge_agent")," "),i(3),m(" ",c(51,50,"admin.workers.sort.uptime")," "),i(2),g(l.workerType()==="image"?52:-1),i(),L("title",l.sortOrder()==="asc"?c(54,52,"admin.workers.sort_order.asc"):c(55,54,"admin.workers.sort_order.desc")),i(3),g(l.sortOrder()==="asc"?56:57),i(2),g(l.loading()?58:l.filteredWorkers().length===0?59:60))},dependencies:[te,ie,ae,re,oe,de,X],encapsulation:2,changeDetection:0});let e=p;return e})();export{st as a};
