import{a as J}from"./chunk-62U34UEH.js";import{a as G,c as F,d as U,e as N}from"./chunk-J27YOVZ5.js";import{a as W}from"./chunk-Z4QX4XJM.js";import"./chunk-T6V27EFK.js";import{a as q}from"./chunk-ISHBUXAM.js";import"./chunk-VFTR325L.js";import{c as $,d as K}from"./chunk-BMIYH3UD.js";import{l as j}from"./chunk-3GXWXVSS.js";import{c as I,g as R,k as T}from"./chunk-GZDNXZTC.js";import{A as O,Cb as _,Db as f,Ma as z,Oa as n,Ob as k,Rb as s,S as D,Sb as p,Tb as E,X as u,Za as P,aa as g,ba as M,ca as S,da as x,ga as L,gc as l,hc as m,ja as w,k as B,ob as h,pb as C,r as V,ta as H,ub as i,vb as t,wb as v,y,zb as A}from"./chunk-QF4LG6ZD.js";import"./chunk-4CLCTAJ7.js";var Q=(()=>{let a=class a{constructor(){this.httpClient=u(R),this.baseUrl="https://aihorde.net/api/v2"}getStatusModes(){return this.httpClient.get(`${this.baseUrl}/status/modes`).pipe(O(()=>B(null)))}};a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=D({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();function Y(e,a){if(e&1){let c=A();i(0,"a",28),_("click",function(){g(c);let o=f();return M(o.closeSidebarOnMobile())}),S(),i(1,"svg",11),v(2,"path",29),t(),x(),i(3,"span",13),s(4),l(5,"transloco"),t()(),i(6,"a",30),_("click",function(){g(c);let o=f();return M(o.closeSidebarOnMobile())}),S(),i(7,"svg",11),v(8,"path",31),t(),x(),i(9,"span",13),s(10),l(11,"transloco"),t()(),i(12,"a",32),_("click",function(){g(c);let o=f();return M(o.closeSidebarOnMobile())}),S(),i(13,"svg",11),v(14,"path",33),t(),x(),i(15,"span",13),s(16),l(17,"transloco"),t()()}if(e&2){let c=f();k("active",c.isActive("/admin/users")),n(4),p(m(5,9,"admin.nav.users")),n(2),k("active",c.isActive("/admin/filters")),n(4),p(m(11,11,"admin.nav.filters")),n(2),k("active",c.isActive("/admin/operations")),n(4),p(m(17,13,"admin.nav.operations"))}}function Z(e,a){e&1&&(i(0,"span",38),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function ee(e,a){e&1&&(i(0,"span",39),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function ie(e,a){e&1&&(i(0,"span",38),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function te(e,a){e&1&&(i(0,"span",39),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function ne(e,a){e&1&&(i(0,"span",38),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function ae(e,a){e&1&&(i(0,"span",39),s(1),l(2,"transloco"),t()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function oe(e,a){if(e&1&&(i(0,"div",36)(1,"span",37),s(2),l(3,"transloco"),t(),h(4,ne,3,3,"span",38)(5,ae,3,3,"span",39),t()),e&2){let c=f(2);n(2),p(m(3,2,"admin.status.raid_mode")),n(2),C(c.statusModes().raid_mode?4:5)}}function re(e,a){if(e&1&&(i(0,"div",16)(1,"h4",34),s(2,"Horde Status"),t(),i(3,"div",35)(4,"div",36)(5,"span",37),s(6),l(7,"transloco"),t(),h(8,Z,3,3,"span",38)(9,ee,3,3,"span",39),t(),i(10,"div",36)(11,"span",37),s(12),l(13,"transloco"),t(),h(14,ie,3,3,"span",38)(15,te,3,3,"span",39),t(),h(16,oe,6,4,"div",36),t()()),e&2){let c=f();n(6),p(m(7,5,"admin.status.maintenance_mode")),n(2),C(c.statusModes().maintenance_mode?8:9),n(4),p(m(13,7,"admin.status.invite_only")),n(2),C(c.statusModes().invite_only_mode?14:15),n(2),C(c.statusModes().raid_mode!==void 0?16:-1)}}function se(e,a){if(e&1){let c=A();i(0,"div",40),_("click",function(){g(c);let o=f();return M(o.toggleSidebar())})("keydown.enter",function(){g(c);let o=f();return M(o.toggleSidebar())})("keydown.space",function(){g(c);let o=f();return M(o.toggleSidebar())}),t()}}function de(e,a){e&1&&v(0,"router-outlet")}function le(e,a){e&1&&(i(0,"div",27)(1,"h2",41),s(2),l(3,"transloco"),t(),i(4,"p",42),s(5),l(6,"transloco"),t(),i(7,"a",43),s(8),l(9,"transloco"),t()()),e&2&&(n(2),E(" ",m(3,3,"admin.common.access_denied")," "),n(3),E(" ",m(6,5,"admin.common.login_prompt")," "),n(3),E(" ",m(9,7,"profile.nav_login")," "))}var me=1024,Be=(()=>{let a=class a{constructor(){this.title=u(j),this.translator=u(q),this.footerColor=u(J),this.router=u(U),this.destroyRef=u(L),this.hordeStatus=u(Q),this.platformId=u(H),this.auth=u(W),this.statusModes=w(null),this.sidebarOpen=w(!1),this.isDesktop=w(!1)}ngOnInit(){V([this.translator.get("admin.title"),this.translator.get("app_title")]).pipe(T(this.destroyRef)).subscribe(([r,o])=>{this.title.setTitle(`${r} | ${o}`)}),this.footerColor.setDarkMode(!0),I(this.platformId)&&this.updateScreenSize(),this.hordeStatus.getStatusModes().pipe(T(this.destroyRef)).subscribe(r=>{this.statusModes.set(r)}),this.router.events.pipe(y(r=>r instanceof G),T(this.destroyRef)).subscribe(()=>{this.isDesktop()||this.sidebarOpen.set(!1)})}onResize(){I(this.platformId)&&this.updateScreenSize()}updateScreenSize(){let r=window.innerWidth>=me,o=this.isDesktop();this.isDesktop.set(r),r&&!o&&this.sidebarOpen.set(!0),!r&&o&&this.sidebarOpen.set(!1)}toggleSidebar(){this.sidebarOpen.set(!this.sidebarOpen())}closeSidebarOnMobile(){this.isDesktop()||this.sidebarOpen.set(!1)}isActive(r){return this.router.url===r||this.router.url.startsWith(r+"/")}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=P({type:a,selectors:[["app-admin"]],hostBindings:function(o,d){o&1&&_("resize",function(){return d.onResize()},z)},decls:40,vars:28,consts:[[1,"admin-layout"],[1,"admin-sidebar"],[1,"admin-sidebar-content"],[1,"admin-sidebar-header"],["routerLink","/admin/",1,"admin-sidebar-logo",3,"click"],[1,"admin-sidebar-title"],["aria-label","Close sidebar",1,"admin-sidebar-close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-sidebar-close-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"admin-nav"],["routerLink","/admin/",1,"admin-nav-item",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-nav-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"admin-nav-label"],["routerLink","/admin/workers/",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"],[1,"admin-status-section"],["role","button","tabindex","0","aria-label","Close sidebar",1,"admin-mobile-overlay"],[1,"admin-main"],[1,"admin-mobile-header"],[1,"admin-mobile-header-content"],["aria-label","Open sidebar menu",1,"admin-mobile-menu-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-mobile-menu-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"admin-mobile-title"],[1,"admin-mobile-spacer"],[1,"admin-content"],[1,"admin-access-denied"],["routerLink","/admin/users/",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],["routerLink","/admin/filters/",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],["routerLink","/admin/operations/",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"admin-status-title"],[1,"admin-status-list"],[1,"admin-status-item"],[1,"admin-status-label"],[1,"badge-base","badge-danger"],[1,"badge-base","badge-success"],["role","button","tabindex","0","aria-label","Close sidebar",1,"admin-mobile-overlay",3,"click","keydown.enter","keydown.space"],[1,"admin-access-denied-title"],[1,"admin-access-denied-text"],["routerLink","/profile/",1,"btn-primary"]],template:function(o,d){if(o&1&&(i(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"a",4),_("click",function(){return d.closeSidebarOnMobile()}),i(5,"span",5),s(6),l(7,"transloco"),t()(),i(8,"button",6),_("click",function(){return d.toggleSidebar()}),S(),i(9,"svg",7),v(10,"path",8),t()()(),x(),i(11,"nav",9)(12,"a",10),_("click",function(){return d.closeSidebarOnMobile()}),S(),i(13,"svg",11),v(14,"path",12),t(),x(),i(15,"span",13),s(16),l(17,"transloco"),t()(),i(18,"a",14),_("click",function(){return d.closeSidebarOnMobile()}),S(),i(19,"svg",11),v(20,"path",15),t(),x(),i(21,"span",13),s(22),l(23,"transloco"),t()(),h(24,Y,18,15),t(),h(25,re,17,9,"div",16),t()(),h(26,se,1,0,"div",17),i(27,"main",18)(28,"header",19)(29,"div",20)(30,"button",21),_("click",function(){return d.toggleSidebar()}),S(),i(31,"svg",22),v(32,"path",23),t()(),x(),i(33,"span",24),s(34),l(35,"transloco"),t(),v(36,"div",25),t()(),i(37,"div",26),h(38,de,1,0,"router-outlet")(39,le,10,9,"div",27),t()()()),o&2){let b;n(),k("open",d.sidebarOpen())("desktop",d.isDesktop()),n(5),p(m(7,20,"admin.title")),n(6),k("active",d.isActive("/admin")&&!d.isActive("/admin/workers")&&!d.isActive("/admin/users")),n(4),p(m(17,22,"admin.nav.dashboard")),n(2),k("active",d.isActive("/admin/workers")),n(4),p(m(23,24,"admin.nav.workers")),n(2),C((b=d.auth.currentUser())!=null&&b.moderator?24:-1),n(),C(d.statusModes()?25:-1),n(),C(d.sidebarOpen()&&!d.isDesktop()?26:-1),n(),k("sidebar-open",d.isDesktop()),n(),k("desktop-hidden",d.isDesktop()),n(6),p(m(35,26,"admin.title")),n(4),C(d.auth.isLoggedIn()?38:39)}},dependencies:[$,K,N,F],encapsulation:2,changeDetection:0});let e=a;return e})();export{Be as AdminComponent};
