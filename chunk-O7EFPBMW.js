import{a as K,b as X}from"./chunk-BV2EP4TL.js";import{a as Y}from"./chunk-OBD3L7BG.js";import{a as z}from"./chunk-PZF2KSPB.js";import{c as J}from"./chunk-MXBDCOJX.js";import{g as O,l as W}from"./chunk-JHAYVYNF.js";import{k as A}from"./chunk-BPDV6QKT.js";import{Cb as C,Db as _,F as Z,Nb as H,Oa as e,Ob as T,Rb as n,Sb as p,Tb as m,X as U,Za as G,aa as h,ba as f,ca as B,da as w,ga as Q,gb as F,gc as s,hc as d,ic as $,ja as I,nc as E,ob as v,pb as g,r as N,rb as q,sb as D,tb as b,ub as t,vb as i,w as j,wb as S,zb as P}from"./chunk-4EEEF725.js";import"./chunk-4CLCTAJ7.js";var L=(r,c)=>c.name;function ee(r,c){r&1&&S(0,"div",8)}function te(r,c){r&1&&(B(),t(0,"svg",3),S(1,"path",11),i())}function ie(r,c){if(r&1){let a=P();t(0,"div",9),B(),t(1,"svg",12),S(2,"path",13),i(),w(),t(3,"p"),n(4),i(),t(5,"button",14),C("click",function(){h(a);let l=_();return f(l.loadStats())}),n(6),s(7,"transloco"),i()()}if(r&2){let a=_();e(4),p(a.error()),e(2),m(" ",d(7,2,"details.usage.retry")," ")}}function ne(r,c){r&1&&(t(0,"div",10),S(1,"div",15),t(2,"p"),n(3),s(4,"transloco"),i()()),r&2&&(e(3),p(d(4,1,"details.usage.loading")))}function ae(r,c){if(r&1&&(t(0,"span",37),n(1),s(2,"number"),i(),t(3,"span",25),S(4,"app-unit-tooltip",38),s(5,"transloco"),n(6),s(7,"transloco"),i()),r&2){let a=c;e(),p($(2,4,a.primary.value,"1.0-1")),e(3),b("unit",a)("primaryOverride",d(5,7,"standard_images")),e(2),m(" ",d(7,9,"details.usage.per_second")," ")}}function oe(r,c){if(r&1&&(t(0,"span",37),n(1),s(2,"number"),i(),t(3,"span",25),S(4,"app-unit-tooltip",38),n(5),s(6,"transloco"),i()),r&2){let a=c;e(),p($(2,4,a.technical.value,"1.0-1")),e(3),b("unit",a)("primaryOverride",a.technical.unit),e(),m(" ",d(6,7,"details.usage.per_second")," ")}}function re(r,c){r&1&&(t(0,"span",27),n(1," ("),S(2,"app-unit-tooltip",39),n(3,") "),i()),r&2&&(e(2),b("unit",c))}function le(r,c){r&1&&(t(0,"span",27),n(1," ("),S(2,"app-unit-tooltip",39),n(3,") "),i()),r&2&&(e(2),b("unit",c))}function se(r,c){if(r&1&&(n(0),t(1,"span",27),n(2," ("),S(3,"app-unit-tooltip",44),n(4,") "),i()),r&2){let a=c;m(" ",a.primary.formatted," "),e(3),b("unit",a)("swapDisplay",!0)}}function de(r,c){if(r&1&&(n(0),t(1,"span",27),n(2," ("),S(3,"app-unit-tooltip",44),n(4,") "),i()),r&2){let a=c;m(" ",a.primary.formatted," "),e(3),b("unit",a)("swapDisplay",!0)}}function pe(r,c){if(r&1&&(t(0,"div",28)(1,"div",18)(2,"h3",19),n(3),s(4,"transloco"),i(),t(5,"div",20)(6,"div",40)(7,"span",41),n(8),s(9,"transloco"),i(),t(10,"span",24),n(11),i()(),t(12,"div",40)(13,"span",41),n(14),s(15,"transloco"),i(),t(16,"span",42),v(17,se,5,3),i()(),t(18,"div",43)(19,"span",41),n(20),s(21,"transloco"),i(),t(22,"span",42),n(23),i()()()(),t(24,"div",18)(25,"h3",19),n(26),s(27,"transloco"),i(),t(28,"div",20)(29,"div",40)(30,"span",41),n(31),s(32,"transloco"),i(),t(33,"span",24),n(34),i()(),t(35,"div",40)(36,"span",41),n(37),s(38,"transloco"),i(),t(39,"span",42),v(40,de,5,3),i()(),t(41,"div",43)(42,"span",41),n(43),s(44,"transloco"),i(),t(45,"span",42),n(46),i()()()()()),r&2){let a,o,l=_(3);e(3),m(" ",d(4,14,"details.usage.image_totals")," "),e(5),p(d(9,16,"details.usage.total_images_generated")),e(3),m(" ",l.units.formatLargeNumber(l.imageStats().total.images,"images")," "),e(3),p(d(15,18,"details.usage.total_pixelsteps")),e(3),g((a=l.totalPixelsteps())?17:-1,a),e(3),p(d(21,20,"details.usage.last_24h")),e(3),m(" ",l.units.formatLargeNumber(l.imageStats().day.images,"images")," "),e(3),m(" ",d(27,22,"details.usage.text_totals")," "),e(5),p(d(32,24,"details.usage.total_requests")),e(3),m(" ",l.units.formatLargeNumber(l.textStats().total.requests,"requests")," "),e(3),p(d(38,26,"details.usage.total_tokens")),e(3),g((o=l.totalTokens())?40:-1,o),e(3),p(d(44,28,"details.usage.last_24h")),e(3),m(" ",l.units.formatLargeNumber(l.textStats().day.requests,"requests")," ")}}function ce(r,c){if(r&1&&(t(0,"div",48)(1,"span",50),n(2),i(),t(3,"span",51),n(4),i(),t(5,"span",52),n(6),i()()),r&2){let a=c.$implicit,o=c.$index,l=_(4);e(2),p(o+1),e(),b("title",a.name),e(),p(a.name),e(2),p(l.formatNumber(a.count))}}function me(r,c){r&1&&(t(0,"p",49),n(1),s(2,"transloco"),i()),r&2&&(e(),m(" ",d(2,1,"details.usage.no_data")," "))}function _e(r,c){if(r&1&&(t(0,"div",48)(1,"span",50),n(2),i(),t(3,"span",51),n(4),i(),t(5,"span",52),n(6),i()()),r&2){let a=c.$implicit,o=c.$index,l=_(4);e(2),p(o+1),e(),b("title",a.name),e(),p(a.name),e(2),p(l.formatNumber(a.count))}}function ue(r,c){r&1&&(t(0,"p",49),n(1),s(2,"transloco"),i()),r&2&&(e(),m(" ",d(2,1,"details.usage.no_data")," "))}function xe(r,c){if(r&1){let a=P();t(0,"div",28)(1,"div",18)(2,"div",45)(3,"h3",19),n(4),s(5,"transloco"),i(),t(6,"button",46),C("click",function(){h(a);let l=_(3);return f(l.setActiveTab("image"))}),n(7),s(8,"transloco"),i()(),t(9,"div",47),q(10,ce,7,4,"div",48,L),v(12,me,3,3,"p",49),i()(),t(13,"div",18)(14,"div",45)(15,"h3",19),n(16),s(17,"transloco"),i(),t(18,"button",46),C("click",function(){h(a);let l=_(3);return f(l.setActiveTab("text"))}),n(19),s(20,"transloco"),i()(),t(21,"div",47),q(22,_e,7,4,"div",48,L),v(24,ue,3,3,"p",49),i()()()}if(r&2){let a=_(3);e(4),m(" ",d(5,6,"details.usage.top_image_models")," "),e(3),m(" ",d(8,8,"details.usage.view_all")," "),e(3),D(a.topImageModels().slice(0,5)),e(2),g(a.topImageModels().length===0?12:-1),e(4),m(" ",d(17,10,"details.usage.top_text_models")," "),e(3),m(" ",d(20,12,"details.usage.view_all")," "),e(3),D(a.topTextModels().slice(0,5)),e(2),g(a.topTextModels().length===0?24:-1)}}function ve(r,c){if(r&1&&(t(0,"div",16)(1,"div",18)(2,"h3",19),n(3),s(4,"transloco"),i(),t(5,"div",20)(6,"div",21)(7,"div",22),v(8,ae,8,11),i(),t(9,"div",22),v(10,oe,7,9),i()(),t(11,"div",21)(12,"div",23)(13,"span",24),n(14),s(15,"number"),i(),t(16,"span",25),n(17),s(18,"transloco"),i()(),t(19,"div",23)(20,"span",24),n(21),s(22,"number"),i(),t(23,"span",25),n(24),s(25,"transloco"),i()()()()(),t(26,"div",18)(27,"h3",19),n(28),s(29,"transloco"),i(),t(30,"div",26)(31,"div",23)(32,"span",24),n(33),s(34,"number"),i(),t(35,"span",25),n(36),s(37,"transloco"),v(38,re,4,1,"span",27),i()(),t(39,"div",23)(40,"span",24),n(41),s(42,"number"),i(),t(43,"span",25),n(44),s(45,"transloco"),v(46,le,4,1,"span",27),i()(),t(47,"div",23)(48,"span",24),n(49),s(50,"number"),i(),t(51,"span",25),n(52),s(53,"transloco"),i()()()(),v(54,pe,47,30,"div",28),v(55,xe,25,14,"div",28),t(56,"div",29)(57,"div",30),B(),t(58,"svg",31),S(59,"path",32),i(),w(),t(60,"div",33)(61,"h4",34),n(62),s(63,"transloco"),i(),t(64,"p",35),n(65),s(66,"transloco"),i()(),t(67,"a",36),n(68),s(69,"transloco"),i()()()()),r&2){let a,o,l,u,x=_(2);e(3),m(" ",d(4,21,"details.usage.realtime_performance")," "),e(5),g((a=x.imagePerformanceRate())?8:-1,a),e(2),g((o=x.textPerformanceRate())?10:-1,o),e(4),p(d(15,23,x.performance().worker_count)),e(3),p(d(18,25,"details.usage.image_workers")),e(4),p(d(22,27,x.performance().text_worker_count)),e(3),p(d(25,29,"details.usage.text_workers")),e(4),m(" ",d(29,31,"details.usage.queue_status")," "),e(5),p(d(34,33,x.performance().queued_requests)),e(3),m(" ",d(37,35,"details.usage.queued_image_requests")," "),e(2),g((l=x.queuedImageWork())?38:-1,l),e(3),p(d(42,37,x.performance().queued_text_requests)),e(3),m(" ",d(45,39,"details.usage.queued_text_requests")," "),e(2),g((u=x.queuedTextWork())?46:-1,u),e(3),p(d(50,41,x.performance().queued_forms)),e(3),p(d(53,43,"details.usage.queued_alchemy_forms")),e(2),g(x.imageStats()&&x.textStats()?54:-1),e(),g(x.imageModelStats()&&x.textModelStats()?55:-1),e(7),m(" ",d(63,45,"details.usage.grafana_title")," "),e(3),m(" ",d(66,47,"details.usage.grafana_description")," "),e(3),m(" ",d(69,49,"details.usage.open_grafana")," ")}}function ge(r,c){if(r&1&&(t(0,"div",73)(1,"div",74)(2,"span",75),n(3),i()(),t(4,"div",76)(5,"span",77),n(6),i()(),t(7,"div",74)(8,"span",78),n(9),s(10,"transloco"),i(),t(11,"span",79),n(12),i()(),t(13,"div",74)(14,"span",78),n(15),s(16,"transloco"),i(),t(17,"div",80),S(18,"div",81),t(19,"span",82),n(20),i()()()()),r&2){let a=c.$implicit,o=c.$index,l=_(4);e(2),T("rank-1",o===0)("rank-2",o===1)("rank-3",o===2),e(),p(o+1),e(2),b("title",a.name),e(),p(a.name),e(3),p(d(10,15,"details.usage.generations")),e(3),p(l.formatNumber(a.count)),e(3),p(d(16,17,"details.usage.percentage")),e(3),H("width",l.getPercentage(a.count,l.totalImageModelRequests()),"%"),e(2),m("",l.getPercentage(a.count,l.totalImageModelRequests()),"%")}}function Se(r,c){if(r&1){let a=P();t(0,"div",66)(1,"div",68)(2,"span",69),n(3,"#"),i(),t(4,"span",69),n(5),s(6,"transloco"),i(),t(7,"button",70),C("click",function(){h(a);let l=_(3);return f(l.toggleSortDirection())}),n(8),s(9,"transloco"),t(10,"span",71),n(11),i()(),t(12,"span",72),n(13),s(14,"transloco"),i()(),q(15,ge,21,19,"div",73,L),i()}if(r&2){let a=_(3);e(5),p(d(6,4,"details.usage.model_name")),e(3),m(" ",d(9,6,"details.usage.generations")," "),e(3),p(a.sortDirection()==="desc"?"\u2193":"\u2191"),e(2),p(d(14,8,"details.usage.percentage")),e(2),D(a.sortedImageModels())}}function Ce(r,c){r&1&&(t(0,"div",67)(1,"p"),n(2),s(3,"transloco"),i()()),r&2&&(e(2),p(d(3,1,"details.usage.no_models_found")))}function he(r,c){if(r&1){let a=P();t(0,"div",17)(1,"div",53)(2,"div",54)(3,"span",55),n(4),s(5,"transloco"),i(),t(6,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("day"))}),n(7),s(8,"transloco"),i(),t(9,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("month"))}),n(10),s(11,"transloco"),i(),t(12,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("total"))}),n(13),s(14,"transloco"),i()(),t(15,"div",57),B(),t(16,"svg",58),S(17,"path",59),i(),w(),t(18,"input",60),s(19,"transloco"),C("input",function(l){h(a);let u=_(2);return f(u.onSearchChange(l))}),i()()(),t(20,"div",61)(21,"div",62)(22,"span",63),n(23),s(24,"transloco"),i(),t(25,"span",64),n(26),i()(),t(27,"div",62)(28,"span",63),n(29),s(30,"transloco"),i(),t(31,"span",64),n(32),t(33,"span",65),n(34),s(35,"transloco"),i()()()(),v(36,Se,17,10,"div",66)(37,Ce,4,3,"div",67),i()}if(r&2){let a=_(2);e(4),p(d(5,18,"details.usage.time_period")),e(2),T("sort-active",a.timePeriod()==="day"),e(),m(" ",d(8,20,"details.usage.period.day")," "),e(2),T("sort-active",a.timePeriod()==="month"),e(),m(" ",d(11,22,"details.usage.period.month")," "),e(2),T("sort-active",a.timePeriod()==="total"),e(),m(" ",d(14,24,"details.usage.period.total")," "),e(5),b("placeholder",d(19,26,"details.usage.search_models"))("value",a.searchQuery()),e(5),p(d(24,28,"details.usage.total_models")),e(3),p(a.sortedImageModels().length),e(3),p(d(30,30,"details.usage.total_generations")),e(3),m(" ",a.formatNumber(a.totalImageModelRequests())," "),e(2),p(d(35,32,a.timePeriodLabel())),e(2),g(a.sortedImageModels().length>0?36:37)}}function fe(r,c){if(r&1&&(t(0,"div",73)(1,"div",74)(2,"span",75),n(3),i()(),t(4,"div",76)(5,"span",77),n(6),i()(),t(7,"div",74)(8,"span",78),n(9),s(10,"transloco"),i(),t(11,"span",79),n(12),i()(),t(13,"div",74)(14,"span",78),n(15),s(16,"transloco"),i(),t(17,"div",80),S(18,"div",81),t(19,"span",82),n(20),i()()()()),r&2){let a=c.$implicit,o=c.$index,l=_(4);e(2),T("rank-1",o===0)("rank-2",o===1)("rank-3",o===2),e(),p(o+1),e(2),b("title",a.name),e(),p(a.name),e(3),p(d(10,15,"details.usage.generations")),e(3),p(l.formatNumber(a.count)),e(3),p(d(16,17,"details.usage.percentage")),e(3),H("width",l.getPercentage(a.count,l.totalTextModelRequests()),"%"),e(2),m("",l.getPercentage(a.count,l.totalTextModelRequests()),"%")}}function be(r,c){if(r&1){let a=P();t(0,"div",66)(1,"div",68)(2,"span",69),n(3,"#"),i(),t(4,"span",69),n(5),s(6,"transloco"),i(),t(7,"button",70),C("click",function(){h(a);let l=_(3);return f(l.toggleSortDirection())}),n(8),s(9,"transloco"),t(10,"span",71),n(11),i()(),t(12,"span",72),n(13),s(14,"transloco"),i()(),q(15,fe,21,19,"div",73,L),i()}if(r&2){let a=_(3);e(5),p(d(6,4,"details.usage.model_name")),e(3),m(" ",d(9,6,"details.usage.generations")," "),e(3),p(a.sortDirection()==="desc"?"\u2193":"\u2191"),e(2),p(d(14,8,"details.usage.percentage")),e(2),D(a.sortedTextModels())}}function Ee(r,c){r&1&&(t(0,"div",67)(1,"p"),n(2),s(3,"transloco"),i()()),r&2&&(e(2),p(d(3,1,"details.usage.no_models_found")))}function Ie(r,c){if(r&1){let a=P();t(0,"div",17)(1,"div",53)(2,"div",54)(3,"span",55),n(4),s(5,"transloco"),i(),t(6,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("day"))}),n(7),s(8,"transloco"),i(),t(9,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("month"))}),n(10),s(11,"transloco"),i(),t(12,"button",56),C("click",function(){h(a);let l=_(2);return f(l.setTimePeriod("total"))}),n(13),s(14,"transloco"),i()(),t(15,"div",57),B(),t(16,"svg",58),S(17,"path",59),i(),w(),t(18,"input",60),s(19,"transloco"),C("input",function(l){h(a);let u=_(2);return f(u.onSearchChange(l))}),i()()(),t(20,"div",61)(21,"div",62)(22,"span",63),n(23),s(24,"transloco"),i(),t(25,"span",64),n(26),i()(),t(27,"div",62)(28,"span",63),n(29),s(30,"transloco"),i(),t(31,"span",64),n(32),t(33,"span",65),n(34),s(35,"transloco"),i()()()(),v(36,be,17,10,"div",66)(37,Ee,4,3,"div",67),i()}if(r&2){let a=_(2);e(4),p(d(5,18,"details.usage.time_period")),e(2),T("sort-active",a.timePeriod()==="day"),e(),m(" ",d(8,20,"details.usage.period.day")," "),e(2),T("sort-active",a.timePeriod()==="month"),e(),m(" ",d(11,22,"details.usage.period.month")," "),e(2),T("sort-active",a.timePeriod()==="total"),e(),m(" ",d(14,24,"details.usage.period.total")," "),e(5),b("placeholder",d(19,26,"details.usage.search_models"))("value",a.searchQuery()),e(5),p(d(24,28,"details.usage.total_models")),e(3),p(a.sortedTextModels().length),e(3),p(d(30,30,"details.usage.total_generations")),e(3),m(" ",a.formatNumber(a.totalTextModelRequests())," "),e(2),p(d(35,32,a.timePeriodLabel())),e(2),g(a.sortedTextModels().length>0?36:37)}}function Te(r,c){if(r&1&&(v(0,ve,70,51,"div",16),v(1,he,38,34,"div",17),v(2,Ie,38,34,"div",17)),r&2){let a=_();g(a.activeTab()==="overview"?0:-1),e(),g(a.activeTab()==="image"?1:-1),e(),g(a.activeTab()==="text"?2:-1)}}var $e=(()=>{let c=class c{constructor(){this.title=U(W),this.translator=U(Y),this.aiHorde=U(z),this.destroyRef=U(Q),this.units=U(X),this.activeTab=I("overview"),this.timePeriod=I("day"),this.loading=I(!1),this.error=I(null),this.performance=I(null),this.imageStats=I(null),this.textStats=I(null),this.imageModelStats=I(null),this.textModelStats=I(null),this.searchQuery=I(""),this.sortDirection=I("desc"),this.sortedImageModels=E(()=>{let o=this.imageModelStats();if(!o)return[];let l=this.timePeriod(),u=o[l]??{},x=this.searchQuery().toLowerCase().trim(),R=this.sortDirection(),y=Object.entries(u).map(([k,M])=>({name:k,count:M}));return x&&(y=y.filter(k=>k.name.toLowerCase().includes(x))),y.sort((k,M)=>{let V=k.count-M.count;return R==="desc"?-V:V}),y}),this.sortedTextModels=E(()=>{let o=this.textModelStats();if(!o)return[];let l=this.timePeriod(),u=o[l]??{},x=this.searchQuery().toLowerCase().trim(),R=this.sortDirection(),y=Object.entries(u).map(([k,M])=>({name:k,count:M}));return x&&(y=y.filter(k=>k.name.toLowerCase().includes(x))),y.sort((k,M)=>{let V=k.count-M.count;return R==="desc"?-V:V}),y}),this.topImageModels=E(()=>this.sortedImageModels().slice(0,10)),this.topTextModels=E(()=>this.sortedTextModels().slice(0,10)),this.totalImageModelRequests=E(()=>this.sortedImageModels().reduce((o,l)=>o+l.count,0)),this.totalTextModelRequests=E(()=>this.sortedTextModels().reduce((o,l)=>o+l.count,0)),this.timePeriodLabel=E(()=>{switch(this.timePeriod()){case"day":return"details.usage.period.day";case"month":return"details.usage.period.month";case"total":return"details.usage.period.total"}}),this.imagePerformanceRate=E(()=>{let o=this.performance();return o?this.units.formatImagePerformanceRate(o.past_minute_megapixelsteps):null}),this.textPerformanceRate=E(()=>{let o=this.performance();return o?this.units.formatTextPerformanceRate(o.past_minute_tokens):null}),this.queuedImageWork=E(()=>{let o=this.performance();return o?this.units.formatQueuedImageWork(o.queued_megapixelsteps):null}),this.queuedTextWork=E(()=>{let o=this.performance();return o?this.units.formatQueuedTokens(o.queued_tokens):null}),this.totalPixelsteps=E(()=>{let o=this.imageStats();return o?this.units.formatTotalPixelsteps(o.total.ps):null}),this.totalTokens=E(()=>{let o=this.textStats();return o?this.units.formatTotalTokens(o.total.tokens):null}),F(()=>{this.loadStats()})}ngOnInit(){N([this.translator.get("details.usage.title"),this.translator.get("app_title")]).pipe(A(this.destroyRef)).subscribe(([o,l])=>{this.title.setTitle(`${o} | ${l}`)})}setActiveTab(o){this.activeTab()!==o&&(this.activeTab.set(o),this.searchQuery.set(""))}setTimePeriod(o){this.timePeriod.set(o)}toggleSortDirection(){this.sortDirection.set(this.sortDirection()==="desc"?"asc":"desc")}onSearchChange(o){let l=o.target;this.searchQuery.set(l.value)}loadStats(){this.loading.set(!0),this.error.set(null),j({performance:this.aiHorde.performance,imageStats:this.aiHorde.imageStats,textStats:this.aiHorde.textStats,imageModelStats:this.aiHorde.getImageModelStats("known"),textModelStats:this.aiHorde.getTextModelStats()}).pipe(A(this.destroyRef),Z(()=>this.loading.set(!1))).subscribe({next:o=>{this.performance.set(o.performance),this.imageStats.set(o.imageStats),this.textStats.set(o.textStats),this.imageModelStats.set(o.imageModelStats),this.textModelStats.set(o.textModelStats)},error:()=>{this.error.set("Failed to load usage statistics")}})}formatNumber(o){return o==null?"-":o.toLocaleString()}getPercentage(o,l){return l===0?0:Math.round(o/l*100)}};c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=G({type:c,selectors:[["app-usage-stats"]],decls:25,vars:23,consts:[[1,"stack-lg"],[1,"details-tabs"],["type","button",1,"details-tab",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"icon-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],["type","button",1,"btn-source-control",3,"click","disabled"],["aria-hidden","true",1,"spinner","spinner-sm"],[1,"state-container","state-container-sm","state-error"],[1,"state-container","state-container-sm","text-secondary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"state-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"],["type","button",1,"btn-source-control",3,"click"],[1,"spinner","spinner-md"],[1,"usage-overview"],[1,"usage-models"],[1,"card","card-bg-primary"],[1,"heading-card"],[1,"space-y-4"],[1,"data-grid-1-2"],[1,"data-item-box","highlight-box"],[1,"data-item-box"],[1,"data-value-lg"],[1,"data-label-spaced"],[1,"data-grid-1-2-3"],[1,"text-secondary"],[1,"usage-totals-grid"],[1,"card","card-bg-secondary"],[1,"flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"icon-sm","text-brand-purple","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"],[1,"flex-1"],[1,"font-semibold","text-primary","text-sm"],[1,"text-secondary","text-xs"],["href","https://grafana.aihorde.net/","target","_blank","rel","noopener noreferrer",1,"btn-primary"],[1,"data-value-xl"],[3,"unit","primaryOverride"],[3,"unit"],[1,"data-item"],[1,"data-label"],[1,"data-value"],[1,"section-divider-top"],[3,"unit","swapDisplay"],[1,"card-header-flex"],["type","button",1,"btn-link-sm",3,"click"],[1,"model-list"],[1,"model-list-item"],[1,"text-secondary","text-sm"],[1,"model-rank"],[1,"model-name",3,"title"],[1,"model-count"],[1,"details-filters"],[1,"filter-period"],[1,"filter-label"],["type","button",1,"sort-button",3,"click"],[1,"filter-search"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"icon-sm","filter-search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"],["type","text",1,"filter-input",3,"input","placeholder","value"],[1,"details-summary"],[1,"summary-stat"],[1,"summary-label"],[1,"summary-value"],[1,"summary-period-badge"],[1,"models-table"],[1,"state-container","state-container-sm","state-muted"],[1,"models-table-header","usage-table-header"],[1,"models-table-th"],["type","button",1,"models-table-th","models-table-th-right","models-table-th-sortable",3,"click"],[1,"sort-indicator"],[1,"models-table-th","models-table-th-right"],[1,"models-table-row","usage-table-row"],[1,"models-table-cell"],[1,"model-rank-badge"],[1,"models-table-cell-name"],[1,"models-table-name",3,"title"],[1,"models-table-label"],[1,"models-table-value"],[1,"percentage-bar-container"],[1,"percentage-bar"],[1,"percentage-text"]],template:function(l,u){l&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),C("click",function(){return u.setActiveTab("overview")}),B(),t(3,"svg",3),S(4,"path",4),i(),n(5),s(6,"transloco"),i(),w(),t(7,"button",2),C("click",function(){return u.setActiveTab("image")}),B(),t(8,"svg",3),S(9,"path",5),i(),n(10),s(11,"transloco"),i(),w(),t(12,"button",2),C("click",function(){return u.setActiveTab("text")}),B(),t(13,"svg",3),S(14,"path",6),i(),n(15),s(16,"transloco"),i(),w(),t(17,"button",7),C("click",function(){return u.loadStats()}),v(18,ee,1,0,"div",8)(19,te,2,0,":svg:svg",3),n(20),s(21,"transloco"),i()(),v(22,ie,8,4,"div",9),v(23,ne,5,3,"div",10),v(24,Te,3,3),i()),l&2&&(e(2),T("details-tab-active",u.activeTab()==="overview"),e(3),m(" ",d(6,15,"details.usage.tabs.overview")," "),e(2),T("details-tab-active",u.activeTab()==="image"),e(3),m(" ",d(11,17,"details.usage.tabs.image")," "),e(2),T("details-tab-active",u.activeTab()==="text"),e(3),m(" ",d(16,19,"details.usage.tabs.text")," "),e(2),b("disabled",u.loading()),e(),g(u.loading()?18:19),e(2),m(" ",d(21,21,"details.usage.refresh")," "),e(2),g(u.error()?22:-1),e(),g(u.loading()&&!u.error()?23:-1),e(),g(!u.loading()&&!u.error()&&u.performance()?24:-1))},dependencies:[J,O,K],encapsulation:2,changeDetection:0});let r=c;return r})();export{$e as UsageStatsComponent};
