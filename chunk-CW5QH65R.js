import{c as F}from"./chunk-YOLUTX5D.js";import{Bb as f,Ma as p,Pb as c,Q as O,Qb as _,Rb as C,Xa as w,bc as P,cc as S,ic as g,mb as m,mc as y,nb as h,ob as v,pb as T,qb as D,sb as x,tb as d,ub as u}from"./chunk-T5FNS33L.js";function I(i,n){if(i&1&&(x(0,"span",4),c(1),P(2,"transloco"),d()),i&2){let a=f().$implicit;p(),_(S(2,1,a))}}function k(i,n){if(i&1&&(c(0),P(1,"transloco")),i&2){let a=f().$implicit;C(" ",S(1,1,a)," ")}}function V(i,n){i&1&&u(0,"br")}function K(i,n){if(i&1&&(u(0,"br"),m(1,V,1,0,"br")),i&2){let a=f().$index;p(),h(a===0||a===1?1:-1)}}function E(i,n){if(i&1&&(m(0,I,3,3,"span",4)(1,k,2,3),m(2,K,2,1)),i&2){let a=n.$index,t=f(2);h(a===0||a===2?0:1),p(2),h(a<t.unit().explanationKeys.length-1?2:-1)}}function U(i,n){if(i&1&&(x(0,"span",0)(1,"span",1),c(2),d(),x(3,"span",2)(4,"strong"),c(5),d(),u(6,"br"),x(7,"span",3),c(8),d(),u(9,"br")(10,"br"),T(11,E,3,2,null,null,v),d()()),i&2){let a=f();p(2),_(a.primaryDisplay()),p(3),_(a.tooltipBoldDisplay()),p(3),C("(",a.tooltipMutedDisplay(),")"),p(3),D(a.unit().explanationKeys)}}var Q=(()=>{let n=class n{constructor(){this.unit=y.required(),this.primaryOverride=y(null),this.swapDisplay=y(!1),this.primaryDisplay=g(()=>{let t=this.primaryOverride();if(t)return t;let e=this.unit();return e?this.swapDisplay()?e.technical.formatted:e.primary.formatted:""}),this.technicalDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""}),this.tooltipBoldDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.technical.formatted:t.primary.formatted:""}),this.tooltipMutedDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=w({type:n,selectors:[["app-unit-tooltip"]],inputs:{unit:[1,"unit"],primaryOverride:[1,"primaryOverride"],swapDisplay:[1,"swapDisplay"]},decls:1,vars:1,consts:[[1,"tooltip-wrapper"],[1,"dotted-underline"],[1,"tooltip-text"],[1,"tooltip-muted"],[1,"math-equation"]],template:function(e,o){e&1&&m(0,U,13,3,"span",0),e&2&&h(o.unit()?0:-1)},dependencies:[F],styles:['.tooltip-wrapper[_ngcontent-%COMP%]{position:relative;display:inline;margin-left:.125rem}.dotted-underline[_ngcontent-%COMP%]{border-bottom:1px dotted currentColor;cursor:help}.tooltip-text[_ngcontent-%COMP%]{visibility:hidden;width:300px;max-width:calc(100vw - 2rem);background-color:#1f2937;color:#fff;text-align:left;border-radius:6px;padding:10px 14px;position:absolute;z-index:1000;bottom:125%;left:50%;transform:translate(-50%);opacity:0;transition:opacity .3s ease;font-size:.75rem;line-height:1.5;box-shadow:0 2px 8px #00000026;pointer-events:none;white-space:normal}@media (max-width: 640px){.tooltip-text[_ngcontent-%COMP%]{left:auto;right:0;transform:none;max-width:calc(100vw - 1rem)}.tooltip-text[_ngcontent-%COMP%]:after{left:auto;right:1rem}}.tooltip-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#60a5fa;font-size:.8125rem}.tooltip-text[_ngcontent-%COMP%]   .math-equation[_ngcontent-%COMP%]{color:#a78bfa;font-family:Courier New,Courier,monospace;font-size:.75rem;font-weight:500}.tooltip-text[_ngcontent-%COMP%]   .tooltip-muted[_ngcontent-%COMP%]{color:#9ca3af;font-size:.6875rem;font-style:italic}.tooltip-text[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#1f2937 transparent transparent transparent}.tooltip-wrapper[_ngcontent-%COMP%]:hover   .tooltip-text[_ngcontent-%COMP%]{visibility:visible;opacity:1}.dark[_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]{background-color:#374151;box-shadow:0 2px 8px #0000004d}.dark[_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]:after, .dark   [_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]:after{border-color:#374151 transparent transparent transparent}'],changeDetection:0});let i=n;return i})();var b=[{threshold:1e15,prefix:"peta",short:"P"},{threshold:1e12,prefix:"tera",short:"T"},{threshold:1e9,prefix:"giga",short:"G"},{threshold:1e6,prefix:"mega",short:"M"},{threshold:1e3,prefix:"kilo",short:"K"},{threshold:1,prefix:"",short:""}],M=[{threshold:1e15,prefix:"quadrillion",short:"Q"},{threshold:1e12,prefix:"trillion",short:"T"},{threshold:1e9,prefix:"billion",short:"B"},{threshold:1e6,prefix:"million",short:"M"},{threshold:1e3,prefix:"thousand",short:"K"},{threshold:1,prefix:"",short:""}],N=(()=>{let n=class n{formatWithSiPrefix(t,e,o=1){let r=this.getSiPrefix(t),s=t/r.threshold,$=e.includes(" ")&&r.prefix?" ":"";return{value:s,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:`${s.toFixed(o)} ${r.prefix}${$}${e}`,formattedShort:`${s.toFixed(o)}${r.short} ${e}`}}formatWithHumanPrefix(t,e,o=1){let r=this.getHumanPrefix(t),s=t/r.threshold,l=[s.toFixed(o)];return r.prefix&&l.push(r.prefix),e&&l.push(e),{value:s,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:l.join(" "),formattedShort:`${s.toFixed(o)}${r.short} ${e}`}}getSiPrefix(t){let e=Math.abs(t);for(let o of b)if(e>=o.threshold)return o;return b[b.length-1]}formatImagePerformanceRate(t){let e=t/60,o=e/20;return{primary:this.formatWithSiPrefix(o,"standard images",1),technical:{value:e,prefix:"mega",prefixShort:"M",unit:"pixelsteps/sec",formatted:`${e.toFixed(2)} megapixelsteps/sec`,formattedShort:`${e.toFixed(2)} Mpixelsteps/sec`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatQueuedImageWork(t){let e=t/20;return{primary:this.formatWithSiPrefix(e,"standard images",1),technical:{value:t,prefix:"",prefixShort:"",unit:"megapixelsteps",formatted:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`,formattedShort:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTotalPixelsteps(t){let o=t/1e6/20;return{primary:this.formatWithSiPrefix(t,"pixelsteps",1),technical:this.formatWithHumanPrefix(o,"standard images",1),rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTextPerformanceRate(t){let e=t/60,o=e*.75/500;return{primary:this.formatWithSiPrefix(o,"pages/sec",2),technical:this.formatWithSiPrefix(e,"tokens/sec",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatTotalTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTextWork(t){return this.formatQueuedTokens(t)}formatLargeNumber(t,e="",o=1){let r=this.getHumanPrefix(t),l=[(t/r.threshold).toFixed(o)];return r.prefix&&l.push(r.prefix),e&&l.push(e),l.join(" ")}formatLargeNumberTechnical(t,e="",o=1){return this.formatWithSiPrefix(t,e,o).formatted}getHumanPrefix(t){let e=Math.abs(t);for(let o of M)if(e>=o.threshold)return o;return M[M.length-1]}formatWithCommas(t,e=0){return t.toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();export{Q as a,N as b};
