import{a as ie}from"./chunk-HM33CXRW.js";import{c as ee,d as te}from"./chunk-65WGSKXW.js";import{a as F}from"./chunk-HAOFLEYL.js";import{e as Z}from"./chunk-PSNERGXC.js";import{g as Y,k as j}from"./chunk-JIQRQOFL.js";import{$b as J,A as V,Cb as f,Db as u,Oa as t,Qb as X,Rb as d,S as G,Sb as k,Tb as C,Ub as $,X as y,Za as z,aa as v,ac as I,ba as g,ca as h,da as H,dc as p,ec as c,fc as W,ga as K,ja as T,k as E,nc as Q,ob as m,oc as D,pb as _,q as A,qb as q,rb as L,sb as O,tb as x,ub as n,vb as r,w as N,wb as S,zb as b}from"./chunk-7X6QMTFM.js";var ne=(()=>{let a=class a{constructor(){this.httpClient=y(Y),this.auth=y(F),this.baseUrl="https://aihorde.net/api/v2"}getWorkers(){let o=this.auth.getStoredApiKey(),l=o?{headers:{apikey:o}}:{};return this.httpClient.get(`${this.baseUrl}/workers`,l).pipe(V(()=>E([])))}getWorker(o){let l=this.auth.getStoredApiKey(),s=l?{headers:{apikey:l}}:{};return this.httpClient.get(`${this.baseUrl}/workers/${o}`,s).pipe(V(()=>E(null)))}getWorkersByIds(o){if(!o||o.length===0)return E([]);let l=o.map(s=>this.getWorker(s));return N(l).pipe(A(s=>s.filter(w=>w!==null)),V(()=>E([])))}updateWorker(o,l){let s=this.auth.getStoredApiKey();return s?this.httpClient.put(`${this.baseUrl}/workers/${o}`,l,{headers:{apikey:s}}).pipe(V(()=>E(null))):E(null)}setMaintenance(o,l,s){let w={maintenance:l,maintenance_msg:l?s:""};return this.updateWorker(o,w)}setPaused(o,l){return this.updateWorker(o,{paused:l})}};a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();var U=e=>({name:e}),re=e=>["/admin/users",e],ae=()=>[],le=(e,a)=>a.message;function de(e,a){e&1&&(n(0,"div",0),h(),n(1,"svg",31),S(2,"path",32),r(),H(),n(3,"span"),d(4),p(5,"transloco"),r()()),e&2&&(t(4),k(c(5,1,"admin.workers.success")))}function se(e,a){if(e&1&&(n(0,"li",44),d(1),r()),e&2){let i=a.$implicit;t(),k(i)}}function pe(e,a){if(e&1&&(n(0,"ul",43),L(1,se,2,1,"li",44,q),r()),e&2){let i=u(4);t(),O(i.getFilteredModels())}}function ce(e,a){e&1&&(n(0,"p",37),d(1),p(2,"transloco"),r()),e&2&&(t(),C(" ",c(2,1,"admin.workers.dialog.no_models_match")," "))}function me(e,a){if(e&1){let i=b();n(0,"div",40)(1,"input",41),p(2,"transloco"),f("input",function(l){v(i);let s=u(3);return g(s.onModelSearchChange(l))}),r()(),n(3,"div",42),m(4,pe,3,0,"ul",43)(5,ce,3,3,"p",37),r()}if(e&2){let i=u(3);t(),x("value",i.modelSearch())("placeholder",c(2,3,"admin.workers.dialog.search_models")),t(3),_(i.getFilteredModels().length>0?4:5)}}function _e(e,a){e&1&&(n(0,"p",37),d(1),p(2,"transloco"),r()),e&2&&(t(),C(" ",c(2,1,"admin.common.none")," "))}function ue(e,a){if(e&1){let i=b();n(0,"h3",35),d(1),p(2,"transloco"),n(3,"span",36),d(4),r()(),m(5,me,6,5)(6,_e,3,3,"p",37),n(7,"div",38)(8,"button",39),f("click",function(){v(i);let l=u(2);return g(l.closeDialog())}),d(9),p(10,"transloco"),r()()}if(e&2){let i=u(2);t(),C(" ",W(2,4,"admin.workers.dialog.models_title",I(9,U,i.worker().name))," "),t(3),C("(",i.getSortedModels().length,")"),t(),_(i.getSortedModels().length>0?5:6),t(4),C(" ",c(10,7,"admin.workers.dialog.close")," ")}}function Ce(e,a){if(e&1&&(d(0),p(1,"transloco")),e&2){let i=u(3);C(" ",W(1,1,"admin.workers.dialog.unset_maintenance_title",I(4,U,i.worker().name))," ")}}function ke(e,a){if(e&1&&(d(0),p(1,"transloco")),e&2){let i=u(3);C(" ",W(1,1,"admin.workers.dialog.set_maintenance_title",I(4,U,i.worker().name))," ")}}function xe(e,a){if(e&1){let i=b();n(0,"div",40)(1,"label",48),d(2),p(3,"transloco"),r(),n(4,"textarea",49),f("input",function(l){v(i);let s=u(3);return g(s.onMaintenanceReasonChange(l))}),r()()}if(e&2){let i=u(3);t(2),C(" ",c(3,2,"admin.workers.dialog.maintenance_reason")," "),t(2),x("value",i.maintenanceReason())}}function we(e,a){if(e&1){let i=b();n(0,"h3",35),m(1,Ce,2,6)(2,ke,2,6),r(),m(3,xe,5,4,"div",40),n(4,"div",45)(5,"button",46),f("click",function(){v(i);let l=u(2);return g(l.closeDialog())}),d(6),p(7,"transloco"),r(),n(8,"button",47),f("click",function(){v(i);let l=u(2);return g(l.confirmMaintenance())}),d(9),p(10,"transloco"),r()()}if(e&2){let i=u(2);t(),_(i.worker().maintenance_mode?1:2),t(2),_(i.worker().maintenance_mode?-1:3),t(3),C(" ",c(7,5,"admin.workers.dialog.cancel")," "),t(2),x("disabled",i.isUpdating()),t(),C(" ",c(10,7,"admin.workers.dialog.confirm")," ")}}function fe(e,a){if(e&1&&(d(0),p(1,"transloco")),e&2){let i=u(3);C(" ",W(1,1,"admin.workers.dialog.unset_paused_title",I(4,U,i.worker().name))," ")}}function ve(e,a){if(e&1&&(d(0),p(1,"transloco")),e&2){let i=u(3);C(" ",W(1,1,"admin.workers.dialog.set_paused_title",I(4,U,i.worker().name))," ")}}function ge(e,a){if(e&1){let i=b();n(0,"h3",35),m(1,fe,2,6)(2,ve,2,6),r(),n(3,"div",45)(4,"button",46),f("click",function(){v(i);let l=u(2);return g(l.closeDialog())}),d(5),p(6,"transloco"),r(),n(7,"button",50),f("click",function(){v(i);let l=u(2);return g(l.confirmPause())}),d(8),p(9,"transloco"),r()()}if(e&2){let i=u(2);t(),_(i.worker().paused?1:2),t(4),C(" ",c(6,4,"admin.workers.dialog.cancel")," "),t(2),x("disabled",i.isUpdating()),t(),C(" ",c(9,6,"admin.workers.dialog.confirm")," ")}}function he(e,a){if(e&1){let i=b();n(0,"div",1)(1,"div",33),f("click",function(){v(i);let l=u();return g(l.closeDialog())}),r(),n(2,"div",34),m(3,ue,11,11)(4,we,11,9)(5,ge,10,8),r()()}if(e&2){let i,o=u();t(3),_((i=o.dialogType())==="models"?3:i==="maintenance"?4:i==="pause"?5:-1)}}function Se(e,a){e&1&&(n(0,"div",5),p(1,"transloco"),h(),n(2,"svg",31),S(3,"path",32),r()()),e&2&&x("title",c(1,1,"admin.workers.card.online"))}function be(e,a){e&1&&(n(0,"div",6),p(1,"transloco"),h(),n(2,"svg",31),S(3,"path",51),r()()),e&2&&x("title",c(1,1,"admin.workers.card.issue"))}function Ee(e,a){e&1&&(n(0,"span",10),d(1),p(2,"transloco"),r()),e&2&&(t(),k(c(2,1,"admin.workers.type.image")))}function ye(e,a){e&1&&(n(0,"span",11),d(1),p(2,"transloco"),r()),e&2&&(t(),k(c(2,1,"admin.workers.type.text")))}function Te(e,a){e&1&&(n(0,"span",12),d(1),p(2,"transloco"),r()),e&2&&(t(),k(c(2,1,"admin.workers.type.interrogation")))}function Ie(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",52),S(3,"path",53),r()()),e&2&&x("title",c(1,1,"admin.workers.card.low_speed_warning"))}function We(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",54),S(3,"path",53),r()()),e&2&&x("title",c(1,1,"admin.workers.card.high_speed_warning"))}function Be(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",55),S(3,"path",56),r()()),e&2&&x("title",c(1,1,"admin.workers.card.paused"))}function Me(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",55),S(3,"path",57),r()()),e&2&&x("title",c(1,1,"admin.workers.card.maintenance"))}function Ve(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",55),S(3,"path",58),r()()),e&2&&x("title",c(1,1,"admin.workers.card.flagged"))}function Ue(e,a){e&1&&(n(0,"div",15),p(1,"transloco"),h(),n(2,"svg",59),S(3,"path",60),r()()),e&2&&x("title",c(1,1,"admin.workers.card.trusted"))}function De(e,a){if(e&1&&(n(0,"a",20),d(1),r()),e&2){let i=u();x("routerLink",I(3,re,i.getOwnerUserId()))("title",i.worker().owner),t(),k(i.getOwnerDisplayName())}}function Fe(e,a){if(e&1&&(n(0,"span",21),d(1),r()),e&2){let i=u();x("title",i.worker().owner??""),t(),k(i.getOwnerDisplayName())}}function Le(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",61),d(5),r()()),e&2){let i,o,l=u();t(2),C("",c(3,3,"admin.workers.card.team"),":"),t(2),x("title",((i=l.worker().team)==null?null:i.name)??((i=l.worker().team)==null?null:i.id)??""),t(),k(((o=l.worker().team)==null?null:o.name)??((o=l.worker().team)==null?null:o.id)??"")}}function Oe(e,a){if(e&1&&(n(0,"span",21),d(1),r()),e&2){let i=a,o=u();x("title",o.worker().bridge_agent),t(),$("",i.name," v",i.version)}}function $e(e,a){if(e&1&&(n(0,"span",21),d(1),r()),e&2){let i=u();x("title",i.worker().bridge_agent),t(),k(i.worker().bridge_agent)}}function je(e,a){e&1&&(n(0,"div",22)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",62),d(5),r()()),e&2&&(t(2),C("",c(3,2,"admin.workers.card.software_contact"),":"),t(3),k(a.contact))}function Pe(e,a){if(e&1&&(n(0,"div",22)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",62),d(5),r()()),e&2){let i=u();t(2),C("",c(3,2,"admin.workers.card.contact"),":"),t(3),k(i.worker().contact)}}function Re(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",63),d(5),r()()),e&2){let i=u();t(2),C("",c(3,2,"admin.workers.card.ipaddr"),":"),t(3),k(i.worker().ipaddr)}}function Ae(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",24),d(5),p(6,"formatNumber"),r()()),e&2){let i=u();t(2),C("",c(3,2,"admin.workers.card.mps_generated"),":"),t(3),k(c(6,4,i.worker().megapixelsteps_generated??0))}}function Ne(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",24),d(5),p(6,"formatNumber"),r()()),e&2){let i=u();t(2),C("",c(3,2,"admin.workers.card.tokens_generated"),":"),t(3),k(c(6,4,i.worker().tokens_generated??0))}}function Ge(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",24),d(5),r()()),e&2){let i,o=u();t(2),C("",c(3,2,"admin.workers.card.models_loaded"),":"),t(3),k(((i=o.worker().models)==null?null:i.length)??0)}}function He(e,a){if(e&1&&(n(0,"div",18)(1,"span",19),d(2),p(3,"transloco"),r(),n(4,"span",24),d(5),r()()),e&2){let i,o=u();t(2),C("",c(3,2,"admin.workers.card.forms"),":"),t(3),k(((i=o.worker().forms)==null?null:i.join(", "))??"")}}function Ke(e,a){e&1&&(n(0,"span",66),d(1,"img2img"),r())}function ze(e,a){e&1&&(n(0,"span",66),d(1,"inpainting"),r())}function qe(e,a){e&1&&(n(0,"span",66),d(1,"post-processing"),r())}function Xe(e,a){e&1&&(n(0,"span",66),d(1,"LoRA"),r())}function Je(e,a){e&1&&(n(0,"span",66),d(1,"ControlNet"),r())}function Qe(e,a){e&1&&(n(0,"span",66),d(1,"SDXL ControlNet"),r())}function Ye(e,a){if(e&1&&(n(0,"div",26)(1,"span",64),d(2),p(3,"transloco"),r(),n(4,"div",65),m(5,Ke,2,0,"span",66),m(6,ze,2,0,"span",66),m(7,qe,2,0,"span",66),m(8,Xe,2,0,"span",66),m(9,Je,2,0,"span",66),m(10,Qe,2,0,"span",66),r()()),e&2){let i=u();t(2),C("",c(3,7,"admin.workers.card.capabilities"),":"),t(3),_(i.worker().img2img?5:-1),t(),_(i.worker().painting?6:-1),t(),_(i.worker()["post-processing"]?7:-1),t(),_(i.worker().lora?8:-1),t(),_(i.worker().controlnet?9:-1),t(),_(i.worker().sdxl_controlnet?10:-1)}}function Ze(e,a){if(e&1&&(n(0,"span",69),d(1),r()),e&2){let i=u().$implicit;t(),C("(",i.origin,")")}}function et(e,a){if(e&1&&(n(0,"div",68)(1,"span",24),d(2),r(),m(3,Ze,2,1,"span",69),r()),e&2){let i=a.$implicit;t(2),k(i.message),t(),_(i.origin?3:-1)}}function tt(e,a){if(e&1&&(n(0,"div",26)(1,"span",64),d(2),p(3,"transloco"),r(),n(4,"div",67),L(5,et,4,2,"div",68,le),r()()),e&2){let i,o=u();t(2),$("",c(3,2,"admin.workers.card.messages")," (",((i=o.worker().messages)==null?null:i.length)??0,"):"),t(3),O(o.worker().messages??J(4,ae))}}function it(e,a){e&1&&(d(0),p(1,"transloco")),e&2&&C(" ",c(1,1,"admin.workers.button.disable_maintenance")," ")}function nt(e,a){e&1&&(d(0),p(1,"transloco")),e&2&&C(" ",c(1,1,"admin.workers.button.maintenance")," ")}function ot(e,a){if(e&1){let i=b();n(0,"button",70),p(1,"transloco"),f("click",function(){v(i);let l=u();return g(l.openMaintenanceDialog())}),m(2,it,2,3)(3,nt,2,3),r()}if(e&2){let i=u();x("title",c(1,2,"admin.workers.button.maintenance_tooltip")),t(2),_(i.worker().maintenance_mode?2:3)}}function rt(e,a){e&1&&(d(0),p(1,"transloco")),e&2&&C(" ",c(1,1,"admin.workers.button.unpause")," ")}function at(e,a){e&1&&(d(0),p(1,"transloco")),e&2&&C(" ",c(1,1,"admin.workers.button.pause")," ")}function lt(e,a){if(e&1){let i=b();n(0,"button",71),p(1,"transloco"),p(2,"transloco"),f("click",function(){v(i);let l=u();return g(l.openPauseDialog())}),m(3,rt,2,3)(4,at,2,3),r()}if(e&2){let i=u();x("title",i.worker().paused?c(1,2,"admin.workers.action.unset_paused"):c(2,4,"admin.workers.action.set_paused")),t(3),_(i.worker().paused?3:4)}}var bt=(()=>{let a=class a{constructor(){this.workerService=y(ne),this.destroyRef=y(K),this.auth=y(F),this.worker=D.required(),this.isModerator=D(!1),this.viewMode=D("admin"),this.workerUpdated=Q(),this.dialogOpen=T(!1),this.dialogType=T("models"),this.maintenanceReason=T(""),this.modelSearch=T(""),this.isUpdating=T(!1),this.showSuccess=T(!1)}get isUserModerator(){return this.auth.currentUser()?.moderator??!1}getOwnerUserId(){let o=this.worker().owner;if(!o)return null;let l=o.match(/#(\d+)$/);return l?l[1]:null}isOwnedByCurrentUser(){let o=this.getOwnerUserId(),l=this.auth.currentUser()?.id;return!!o&&!!l&&o===`${l}`}canToggleMaintenance(){return this.isOwnedByCurrentUser()||this.isModerator()}canTogglePause(){return this.viewMode()==="admin"&&this.isUserModerator}getOwnerDisplayName(){return this.worker().owner??"Unknown"}isHighSpeed(){return this.worker().type==="image"?parseFloat(this.worker().performance)>3:!1}isLowSpeed(){return this.worker().type==="image"?parseFloat(this.worker().performance)<.4:!1}hasIssue(){let o=this.worker();return!o.online||o.paused||o.maintenance_mode||o.flagged}hasImageCapabilities(){let o=this.worker();return!!(o.img2img||o.painting||o["post-processing"]||o.lora||o.controlnet||o.sdxl_controlnet)}getCardBackground(){let o=this.worker();return o.maintenance_mode||o.paused||o.flagged?"worker-card-issue":"worker-card-normal"}formatUptime(o){let l=Math.floor(o/86400),s=Math.floor(o%86400/3600),w=Math.floor(o%3600/60);return l>0?`${l}d ${s}h`:s>0?`${s}h ${w}m`:`${w}m`}truncateName(o,l=30){return o.length>l?o.substring(0,l)+"...":o}getParsedBridgeAgent(){let o=this.worker().bridge_agent;if(!o)return null;let l=o.indexOf(":");if(l===-1)return null;let s=o.indexOf(":",l+1);if(s===-1)return null;let w=o.substring(0,l),B=o.substring(l+1,s),M=o.substring(s+1);return!w||!B||!M?null:{name:w,version:B,contact:M}}getSortedModels(){return[...this.worker().models??[]].sort((o,l)=>o.toLowerCase().localeCompare(l.toLowerCase()))}getFilteredModels(){let o=this.modelSearch().toLowerCase().trim();return o?this.getSortedModels().filter(l=>l.toLowerCase().includes(o)):this.getSortedModels()}onModelSearchChange(o){let l=o.target;this.modelSearch.set(l.value)}openModelsDialog(){this.dialogType.set("models"),this.modelSearch.set(""),this.dialogOpen.set(!0)}openMaintenanceDialog(){this.dialogType.set("maintenance"),this.maintenanceReason.set(""),this.dialogOpen.set(!0)}openPauseDialog(){this.dialogType.set("pause"),this.dialogOpen.set(!0)}closeDialog(){this.dialogOpen.set(!1)}onMaintenanceReasonChange(o){let l=o.target;this.maintenanceReason.set(l.value)}confirmMaintenance(){this.isUpdating.set(!0);let o=!this.worker().maintenance_mode;this.workerService.setMaintenance(this.worker().id,o,this.maintenanceReason()).pipe(j(this.destroyRef)).subscribe(l=>{this.isUpdating.set(!1),l&&(this.showSuccess.set(!0),setTimeout(()=>this.showSuccess.set(!1),3e3),this.workerUpdated.emit()),this.closeDialog()})}confirmPause(){this.isUpdating.set(!0);let o=!this.worker().paused;this.workerService.setPaused(this.worker().id,o).pipe(j(this.destroyRef)).subscribe(l=>{this.isUpdating.set(!1),l&&(this.showSuccess.set(!0),setTimeout(()=>this.showSuccess.set(!1),3e3),this.workerUpdated.emit()),this.closeDialog()})}};a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=z({type:a,selectors:[["app-worker-card"]],inputs:{worker:[1,"worker"],isModerator:[1,"isModerator"],viewMode:[1,"viewMode"]},outputs:{workerUpdated:"workerUpdated"},decls:90,vars:67,consts:[[1,"toast","toast-success"],[1,"worker-modal-overlay"],[1,"p-4"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","gap-3"],[1,"worker-status-icon","worker-status-icon-success",3,"title"],[1,"worker-status-icon","worker-status-icon-error",3,"title"],[1,"min-w-0"],[1,"flex","items-center","gap-2","mb-1"],[1,"heading-item","truncate",3,"title"],[1,"badge-base","badge-info"],[1,"badge-base","badge-success"],[1,"badge-base","badge-purple"],[1,"text-xs","text-secondary","truncate"],[1,"flex","items-center","gap-1","shrink-0"],[1,"p-1",3,"title"],[1,"p-4","text-sm","worker-card-section"],[1,"space-y-1","mb-3"],[1,"worker-card-row"],[1,"worker-card-label"],[1,"worker-link","truncate",3,"routerLink","title"],[1,"worker-card-value",3,"title"],[1,"flex","flex-col"],[1,"space-y-1","mb-3","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"worker-card-value"],[1,"space-y-1","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"mt-3","pt-3","worker-card-section"],[1,"px-4","py-3","worker-card-section","flex","gap-2"],[1,"worker-btn-models","text-sm",3,"click","title"],[1,"worker-btn-maintenance","text-sm",3,"title"],[1,"worker-btn-pause","text-sm",3,"title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"modal-backdrop",3,"click"],[1,"worker-modal-panel","worker-modal-panel-large"],[1,"heading-card","mb-4"],[1,"text-secondary","text-sm","font-normal","ml-2"],[1,"text-secondary","text-sm"],[1,"flex","justify-end","mt-6"],[1,"worker-btn-models",3,"click"],[1,"mb-4"],["type","text",1,"form-input",3,"input","value","placeholder"],[1,"worker-modal-scroll"],[1,"worker-models-list"],[1,"worker-models-list-item"],[1,"flex","justify-end","gap-3"],[1,"worker-btn",3,"click"],[1,"worker-btn-maintenance",3,"click","disabled"],[1,"text-sm","text-secondary","mb-2","block"],["rows","3",1,"form-input",3,"input","value"],[1,"worker-btn-pause",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","worker-indicator-yellow",2,"transform","scaleX(-1)"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","worker-indicator-yellow"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","worker-indicator-red"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","worker-indicator-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"worker-card-value","truncate",3,"title"],[1,"worker-card-value","break-all"],[1,"worker-card-value","font-mono","text-xs"],[1,"worker-card-label","text-xs","block","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"worker-badge"],[1,"space-y-2","max-h-24","overflow-y-auto"],[1,"worker-message"],[1,"worker-card-label","ml-1"],[1,"worker-btn-maintenance","text-sm",3,"click","title"],[1,"worker-btn-pause","text-sm",3,"click","title"]],template:function(l,s){if(l&1&&(m(0,de,6,3,"div",0),m(1,he,6,1,"div",1),n(2,"div")(3,"div",2)(4,"div",3)(5,"div",4),m(6,Se,4,3,"div",5)(7,be,4,3,"div",6),n(8,"div",7)(9,"div",8)(10,"h3",9),d(11),r(),m(12,Ee,3,3,"span",10)(13,ye,3,3,"span",11)(14,Te,3,3,"span",12),r(),n(15,"p",13),d(16),r()()(),n(17,"div",14),m(18,Ie,4,3,"div",15),m(19,We,4,3,"div",15),m(20,Be,4,3,"div",15),m(21,Me,4,3,"div",15),m(22,Ve,4,3,"div",15),m(23,Ue,4,3,"div",15),r()()(),n(24,"div",16)(25,"div",17)(26,"div",18)(27,"span",19),d(28),p(29,"transloco"),r(),m(30,De,2,5,"a",20)(31,Fe,2,2,"span",21),r(),m(32,Le,6,5,"div",18),n(33,"div",22)(34,"span",19),d(35),p(36,"transloco"),r(),m(37,Oe,2,3,"span",21)(38,$e,2,2,"span",21),r(),m(39,je,6,4,"div",22),m(40,Pe,6,4,"div",22),m(41,Re,6,4,"div",18),r(),n(42,"div",23)(43,"div",18)(44,"span",19),d(45),p(46,"transloco"),r(),n(47,"span",24),d(48),r()(),n(49,"div",18)(50,"span",19),d(51),p(52,"transloco"),r(),n(53,"span",24),d(54),r()(),n(55,"div",18)(56,"span",19),d(57),p(58,"transloco"),r(),n(59,"span",24),d(60),r()(),n(61,"div",18)(62,"span",19),d(63),p(64,"transloco"),r(),n(65,"span",24),d(66),p(67,"formatNumber"),r()(),m(68,Ae,7,6,"div",18),m(69,Ne,7,6,"div",18),r(),n(70,"div",25),m(71,Ge,6,4,"div",18),m(72,He,6,4,"div",18),n(73,"div",18)(74,"span",19),d(75),p(76,"transloco"),r(),n(77,"span",24),d(78),p(79,"transloco"),p(80,"transloco"),r()()(),m(81,Ye,11,9,"div",26),m(82,tt,7,5,"div",26),r(),n(83,"div",27)(84,"button",28),p(85,"transloco"),f("click",function(){return s.openModelsDialog()}),d(86),p(87,"transloco"),r(),m(88,ot,4,4,"button",29),m(89,lt,5,6,"button",30),r()()),l&2){let w,B,M,P,R;_(s.showSuccess()?0:-1),t(),_(s.dialogOpen()?1:-1),t(),X(s.getCardBackground()),t(4),_(s.hasIssue()?7:6),t(4),x("title",s.worker().name),t(),C(" ",s.truncateName(s.worker().name)," "),t(),_((w=s.worker().type)==="image"?12:w==="text"?13:w==="interrogation"?14:-1),t(4),k(s.worker().id),t(2),_(s.isLowSpeed()?18:-1),t(),_(s.isHighSpeed()?19:-1),t(),_(s.worker().paused?20:-1),t(),_(s.worker().maintenance_mode?21:-1),t(),_(s.worker().flagged?22:-1),t(),_(s.worker().trusted?23:-1),t(5),C("",c(29,43,"admin.workers.card.owner"),":"),t(2),_(s.getOwnerUserId()&&s.isModerator()?30:31),t(2),_(s.worker().team?32:-1),t(3),C("",c(36,45,"admin.workers.card.bridge_agent"),":"),t(2),_((B=s.getParsedBridgeAgent())?37:38,B),t(2),_((M=s.getParsedBridgeAgent())?39:-1,M),t(),_(s.worker().contact&&s.isModerator()?40:-1),t(),_(s.worker().ipaddr&&s.isModerator()?41:-1),t(4),C("",c(46,47,"admin.workers.card.uptime"),":"),t(3),k(s.formatUptime(s.worker().uptime)),t(3),C("",c(52,49,"admin.workers.card.speed"),":"),t(3),k(s.worker().performance),t(3),C("",c(58,51,"admin.workers.card.threads"),":"),t(3),k(s.worker().threads),t(3),C("",c(64,53,"admin.workers.card.requests_fulfilled"),":"),t(3),k(c(67,55,s.worker().requests_fulfilled)),t(2),_(s.worker().type==="image"&&s.worker().megapixelsteps_generated!==void 0?68:-1),t(),_(s.worker().type==="text"&&s.worker().tokens_generated!==void 0?69:-1),t(2),_(s.worker().type!=="interrogation"?71:-1),t(),_(s.worker().type==="interrogation"&&(((P=s.worker().forms)==null?null:P.length)??0)>0?72:-1),t(3),C("",c(76,57,"admin.workers.card.nsfw"),":"),t(3),k(s.worker().nsfw?c(79,59,"admin.common.yes"):c(80,61,"admin.common.no")),t(3),_(s.worker().type==="image"&&s.hasImageCapabilities()?81:-1),t(),_((((R=s.worker().messages)==null?null:R.length)??0)>0&&s.isModerator()?82:-1),t(2),x("title",c(85,63,"admin.workers.action.show_models")),t(2),C(" ",c(87,65,"admin.workers.button.models")," "),t(2),_(s.canToggleMaintenance()?88:-1),t(),_(s.canTogglePause()?89:-1)}},dependencies:[ee,te,ie,Z],encapsulation:2,changeDetection:0});let e=a;return e})();export{ne as a,bt as b};
