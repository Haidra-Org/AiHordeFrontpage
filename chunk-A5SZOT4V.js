import{a as v}from"./chunk-OEB6SJOZ.js";import{a as W}from"./chunk-YPIZZ7U7.js";import"./chunk-JSI25OHT.js";import"./chunk-QWPHJZNM.js";import"./chunk-GDCIMU4X.js";import"./chunk-ZPGUFHCW.js";import"./chunk-BV2EP4TL.js";import"./chunk-CRVG2NOB.js";import{b as w,d as y}from"./chunk-3B2Y74WR.js";import"./chunk-ELF6RP2M.js";import"./chunk-YL3TDIGQ.js";import"./chunk-LN47MBAJ.js";import{a as C}from"./chunk-OBD3L7BG.js";import"./chunk-PZF2KSPB.js";import"./chunk-MXBDCOJX.js";import{l as f}from"./chunk-JHAYVYNF.js";import{k as _,m as T}from"./chunk-BPDV6QKT.js";import{Cb as u,Oa as m,X as o,Za as k,ga as c,nc as n,r as d,tb as g,ub as p,vb as h}from"./chunk-4EEEF725.js";import"./chunk-4CLCTAJ7.js";var M=(()=>{let i=class i{constructor(){this.title=o(f),this.translator=o(C),this.destroyRef=o(c),this.route=o(w),this.router=o(y),this.params=T(this.route.params,{initialValue:{}}),this.initialWorkerType=n(()=>{let e=this.params().workerType;return e==="image"||e==="text"||e==="interrogation"?e:null}),this.highlightWorkerId=n(()=>this.params().workerId??null),this.filterOwnerId=n(()=>this.params().ownerId??null)}ngOnInit(){d([this.translator.get("details.workers.title"),this.translator.get("app_title")]).pipe(_(this.destroyRef)).subscribe(([e,t])=>{this.title.setTitle(`${e} | ${t}`)})}onWorkerTypeChange(e){this.initialWorkerType()&&this.router.navigate(["/details/workers",e],{replaceUrl:!0})}onWorkerSearch(e){let t=e.trim();/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)?this.router.navigate(["/details/workers/id",t]):this.router.navigate(["/details/workers/name",t])}clearOwnerFilter(){this.router.navigate(["/details/workers"],{replaceUrl:!0})}clearHighlight(){let e=this.initialWorkerType();e?this.router.navigate(["/details/workers",e],{replaceUrl:!0}):this.router.navigate(["/details/workers"],{replaceUrl:!0})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=k({type:i,selectors:[["app-public-workers"]],decls:2,vars:4,consts:[["label","details.workers.lookup.label","placeholder","details.workers.lookup.placeholder","hintText","details.workers.lookup.hint",3,"search"],["viewMode","public","titleKey","details.workers.title",3,"workerTypeChanged","ownerFilterCleared","highlightCleared","setPageTitle","initialWorkerType","highlightWorkerId","filterOwnerId"]],template:function(t,r){t&1&&(p(0,"app-entity-lookup",0),u("search",function(s){return r.onWorkerSearch(s)}),h(),p(1,"app-worker-list",1),u("workerTypeChanged",function(s){return r.onWorkerTypeChange(s)})("ownerFilterCleared",function(){return r.clearOwnerFilter()})("highlightCleared",function(){return r.clearHighlight()}),h()),t&2&&(m(),g("setPageTitle",!1)("initialWorkerType",r.initialWorkerType())("highlightWorkerId",r.highlightWorkerId())("filterOwnerId",r.filterOwnerId()))},dependencies:[W,v],encapsulation:2,changeDetection:0});let a=i;return a})();export{M as PublicWorkersComponent};
