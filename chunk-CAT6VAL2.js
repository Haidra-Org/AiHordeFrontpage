import{c as D}from"./chunk-FTBVTQIQ.js";import{Cb as m,Na as p,Qb as d,R as w,Rb as _,Sb as C,Ya as O,cc as P,dc as S,jc as g,nb as c,nc as y,ob as h,pb as v,qb as W,rb as T,tb as x,ub as f,vb as u}from"./chunk-DAYIYFOB.js";function I(o,n){if(o&1&&(x(0,"span",4),d(1),P(2,"transloco"),f()),o&2){let a=m().$implicit;p(),_(S(2,1,a))}}function V(o,n){if(o&1&&(d(0),P(1,"transloco")),o&2){let a=m().$implicit;C(" ",S(1,1,a)," ")}}function K(o,n){o&1&&u(0,"br")}function k(o,n){if(o&1&&(u(0,"br"),c(1,K,1,0,"br")),o&2){let a=m().$index;p(),h(a===0||a===1?1:-1)}}function H(o,n){if(o&1&&(c(0,I,3,3,"span",4)(1,V,2,3),c(2,k,2,1)),o&2){let a=n.$index,t=m(2);h(a===0||a===2?0:1),p(2),h(a<t.unit().explanationKeys.length-1?2:-1)}}function E(o,n){if(o&1&&(x(0,"span",0)(1,"span",1),d(2),f(),x(3,"span",2)(4,"strong"),d(5),f(),u(6,"br"),x(7,"span",3),d(8),f(),u(9,"br")(10,"br"),W(11,H,3,2,null,null,v),f()()),o&2){let a=m();p(2),_(a.primaryDisplay()),p(3),_(a.tooltipBoldDisplay()),p(3),C("(",a.tooltipMutedDisplay(),")"),p(3),T(a.unit().explanationKeys)}}var L=(()=>{let n=class n{constructor(){this.unit=y.required(),this.primaryOverride=y(null),this.swapDisplay=y(!1),this.primaryDisplay=g(()=>{let t=this.primaryOverride();if(t)return t;let e=this.unit();return e?this.swapDisplay()?e.technical.formatted:e.primary.formatted:""}),this.technicalDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""}),this.tooltipBoldDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.technical.formatted:t.primary.formatted:""}),this.tooltipMutedDisplay=g(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=O({type:n,selectors:[["app-unit-tooltip"]],inputs:{unit:[1,"unit"],primaryOverride:[1,"primaryOverride"],swapDisplay:[1,"swapDisplay"]},decls:1,vars:1,consts:[[1,"tooltip-wrapper"],[1,"dotted-underline"],[1,"tooltip-text"],[1,"tooltip-muted"],[1,"math-equation"]],template:function(e,i){e&1&&c(0,E,13,3,"span",0),e&2&&h(i.unit()?0:-1)},dependencies:[D],styles:['.tooltip-wrapper[_ngcontent-%COMP%]{position:relative;display:inline;margin-left:.125rem}.dotted-underline[_ngcontent-%COMP%]{border-bottom:1px dotted currentColor;cursor:help}.tooltip-text[_ngcontent-%COMP%]{visibility:hidden;width:300px;max-width:calc(100vw - 2rem);background-color:#1f2937;color:#fff;text-align:left;border-radius:6px;padding:10px 14px;position:absolute;z-index:1000;bottom:125%;left:50%;transform:translate(-50%);opacity:0;transition:opacity .3s ease;font-size:.75rem;line-height:1.5;box-shadow:0 2px 8px #00000026;pointer-events:none;white-space:normal}@media (max-width: 640px){.tooltip-text[_ngcontent-%COMP%]{left:auto;right:0;transform:none;max-width:calc(100vw - 1rem)}.tooltip-text[_ngcontent-%COMP%]:after{left:auto;right:1rem}}.tooltip-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#60a5fa;font-size:.8125rem}.tooltip-text[_ngcontent-%COMP%]   .math-equation[_ngcontent-%COMP%]{color:#a78bfa;font-family:Courier New,Courier,monospace;font-size:.75rem;font-weight:500}.tooltip-text[_ngcontent-%COMP%]   .tooltip-muted[_ngcontent-%COMP%]{color:#9ca3af;font-size:.6875rem;font-style:italic}.tooltip-text[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#1f2937 transparent transparent transparent}.tooltip-wrapper[_ngcontent-%COMP%]:hover   .tooltip-text[_ngcontent-%COMP%]{visibility:visible;opacity:1}.dark[_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]{background-color:#374151;box-shadow:0 2px 8px #0000004d}.dark[_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]:after, .dark   [_nghost-%COMP%]   .tooltip-text[_ngcontent-%COMP%]:after{border-color:#374151 transparent transparent transparent}'],changeDetection:0});let o=n;return o})();var b=[{threshold:1e15,prefix:"peta",short:"P"},{threshold:1e12,prefix:"tera",short:"T"},{threshold:1e9,prefix:"giga",short:"G"},{threshold:1e6,prefix:"mega",short:"M"},{threshold:1e3,prefix:"kilo",short:"K"},{threshold:1,prefix:"",short:""}],M=[{threshold:1e15,prefix:"quadrillion",short:"Q"},{threshold:1e12,prefix:"trillion",short:"T"},{threshold:1e9,prefix:"billion",short:"B"},{threshold:1e6,prefix:"million",short:"M"},{threshold:1e3,prefix:"thousand",short:"K"},{threshold:1,prefix:"",short:""}],N=(()=>{let n=class n{formatWithSiPrefix(t,e,i=1){let r=this.getSiPrefix(t),s=t/r.threshold,F=e.includes(" ")&&r.prefix?" ":"";return{value:s,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:`${s.toFixed(i)} ${r.prefix}${F}${e}`,formattedShort:`${s.toFixed(i)}${r.short} ${e}`}}formatWithHumanPrefix(t,e,i=1){let r=this.getHumanPrefix(t),s=t/r.threshold,l=[s.toFixed(i)];return r.prefix&&l.push(r.prefix),e&&l.push(e),{value:s,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:l.join(" "),formattedShort:`${s.toFixed(i)}${r.short} ${e}`}}getSiPrefix(t){let e=Math.abs(t);for(let i of b)if(e>=i.threshold)return i;return b[b.length-1]}formatImagePerformanceRate(t){let e=t/60,i=e/20;return{primary:this.formatWithSiPrefix(i,"standard images",1),technical:{value:e,prefix:"mega",prefixShort:"M",unit:"pixelsteps/sec",formatted:`${e.toFixed(2)} megapixelsteps/sec`,formattedShort:`${e.toFixed(2)} Mpixelsteps/sec`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatQueuedImageWork(t){let e=t/20;return{primary:this.formatWithSiPrefix(e,"standard images",1),technical:{value:t,prefix:"",prefixShort:"",unit:"megapixelsteps",formatted:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`,formattedShort:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTotalPixelsteps(t){let i=t/1e6/20;return{primary:this.formatWithSiPrefix(t,"pixelsteps",1),technical:this.formatWithHumanPrefix(i,"standard images",1),rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTextPerformanceRate(t){let e=t/60,i=e*.75/500;return{primary:this.formatWithSiPrefix(i,"pages/sec",2),technical:this.formatWithSiPrefix(e,"tokens/sec",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatTotalTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTextWork(t){return this.formatQueuedTokens(t)}formatLargeNumber(t,e="",i=1){let r=this.getHumanPrefix(t),l=[(t/r.threshold).toFixed(i)];return r.prefix&&l.push(r.prefix),e&&l.push(e),l.join(" ")}formatLargeNumberTechnical(t,e="",i=1){return this.formatWithSiPrefix(t,e,i).formatted}getHumanPrefix(t){let e=Math.abs(t);for(let i of M)if(e>=i.threshold)return i;return M[M.length-1]}formatWithCommas(t,e=0){return t.toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e})}formatModelQueuedImage(t){let e=t/1e6,i=e/20;return{primary:this.formatWithSiPrefix(e,"mps",1),technical:this.formatWithHumanPrefix(i,"standard images",1),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatModelQueuedText(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatModelPerformanceImage(t){let e=t/20;return{primary:{value:t,prefix:"",prefixShort:"",unit:"mps/s",formatted:`${t.toFixed(2)} mps/s`,formattedShort:`${t.toFixed(2)} mps/s`},technical:this.formatWithSiPrefix(e,"std img/s",2),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatModelPerformanceText(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens/s",1),technical:this.formatWithSiPrefix(e,"pages/s",3),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();export{L as a,N as b};
