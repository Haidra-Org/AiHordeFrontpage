/* =================================================================
   NAVIGATION - MOBILE MENU STYLES
   
   Includes:
   - Mobile menu toggle button
   - Menu icon
   - Mobile menu backdrop
   - Mobile menu panel
   - Mobile menu animation
   ================================================================= */

@layer components {
  /* Wrapper controlling mobile visibility */
  .mobile-nav-wrapper {
    @apply block lg:hidden;
  }

  /* Mobile nav list spacing */
  .mobile-nav-list {
    @apply flex flex-col p-2 pb-3 gap-1;
  }

  /* Mobile menu toggle button */
  .mobile-menu-button {
    @apply inline-flex items-center justify-center p-2 rounded-md;
    @apply text-gray-600 bg-transparent border-none cursor-pointer;
    @apply transition-all duration-200;
    @apply lg:hidden;
    @apply hover:text-gray-900 hover:bg-gray-100;
    @apply focus:outline-none;
    @apply dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-700;
  }

  .mobile-menu-button:focus {
    box-shadow: 0 0 0 2px var(--color-brand-purple) inset;
  }

  /* Mobile menu icon */
  .menu-icon {
    @apply w-6 h-6;
  }

  /* Mobile Navigation Styles */
  .mobile-menu-backdrop {
    @apply fixed inset-0 z-40;
    @apply bg-black/25 transition-opacity duration-300;
    @apply opacity-0 pointer-events-none;
    @apply lg:hidden;
  }

  .mobile-menu-backdrop.show {
    @apply opacity-100 pointer-events-auto;
  }

  .dark .mobile-menu-backdrop.show {
    @apply bg-black/50;
  }

  .mobile-menu-panel {
    @apply absolute top-full left-0 right-0 z-50;
    @apply bg-surface-primary border border-edge-primary;
    @apply rounded-b-lg shadow-lg;
    @apply -translate-y-2.5 opacity-0 invisible;
    @apply transition-all duration-300;
    @apply dark:bg-gray-800 dark:border-gray-700;
  }

  .mobile-menu-panel.open {
    @apply translate-y-0 opacity-100 visible;
  }

  .dark .mobile-menu-panel {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.4),
      0 4px 6px -4px rgba(0, 0, 0, 0.3);
  }

  /* Mobile menu animation improvements */
  @media (max-width: 1023px) {
    .mobile-menu-panel {
      animation-duration: 0.3s;
      animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    .mobile-menu-panel.open {
      animation-name: slideDown;
    }
  }
}
