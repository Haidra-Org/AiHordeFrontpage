/* =================================================================
   NAVIGATION LINKS
   
   Includes:
   - Desktop navigation links
   - Desktop navigation menu bar
   - Mobile navigation links
   - Active states for both
   - Focus management for accessibility
   - Dropdown menus
   ================================================================= */

@layer components {
  /* Desktop navigation menu bar */
  .nav-menu-desktop {
    @apply hidden lg:flex lg:items-center lg:gap-8;
  }

  /* Desktop Navigation Links */
  .nav-link {
    @apply px-3 py-2 text-sm font-medium rounded-md;
    @apply text-content-secondary no-underline;
    @apply transition-all duration-200;
    @apply hover:text-brand-purple hover:bg-surface-secondary;
    @apply focus:outline-none;
    @apply dark:text-gray-400 dark:hover:text-purple-300 dark:hover:bg-gray-700;
  }

  .nav-link:focus {
    box-shadow:
      0 0 0 2px var(--color-brand-purple),
      0 0 0 4px rgba(147, 51, 234, 0.1);
  }

  .nav-link-active {
    @apply text-brand-purple bg-purple-100 font-semibold;
    @apply dark:text-purple-300 dark:bg-purple-900/30;
  }

  /* Mobile Navigation Links */
  .mobile-nav-link {
    @apply block px-4 py-3 text-base font-medium rounded-md;
    @apply text-content-secondary no-underline;
    @apply transition-all duration-200;
    @apply hover:text-brand-purple hover:bg-surface-secondary;
    @apply focus:outline-none;
    @apply dark:text-gray-400 dark:hover:text-purple-300 dark:hover:bg-gray-700;
  }

  .mobile-nav-link:focus {
    box-shadow:
      0 0 0 2px var(--color-brand-purple),
      0 0 0 4px rgba(147, 51, 234, 0.1);
  }

  .mobile-nav-link-active {
    @apply text-brand-purple bg-purple-100 font-semibold;
    @apply dark:text-purple-300 dark:bg-purple-900/30;
  }

  /* Smooth hover transitions for all interactive elements */
  .nav-link,
  .mobile-nav-link,
  button {
    will-change: transform;
  }

  /* Focus management for accessibility */
  .nav-link:focus-visible,
  .mobile-nav-link:focus-visible,
  button:focus-visible {
    @apply outline-2 outline-brand-purple outline-offset-2;
  }

  /* =================================================================
     DESKTOP DROPDOWN MENU
     ================================================================= */

  .nav-dropdown-container {
    @apply relative inline-block;
  }

  .nav-dropdown-trigger {
    @apply flex items-center gap-1 cursor-pointer bg-transparent border-none;
  }

  .nav-dropdown-chevron {
    @apply w-4 h-4 transition-transform duration-200;
  }

  .nav-dropdown-chevron-open {
    @apply rotate-180;
  }

  .nav-dropdown-menu {
    @apply absolute top-full left-0 z-50;
    @apply min-w-48 mt-1 py-2;
    @apply bg-surface-primary border border-edge-secondary rounded-lg shadow-lg;
    @apply dark:bg-gray-800 dark:border-gray-700;
  }

  .nav-dropdown-item {
    @apply block px-4 py-2 text-sm font-medium;
    @apply text-content-secondary no-underline;
    @apply transition-all duration-150;
    @apply hover:text-brand-purple hover:bg-surface-secondary;
    @apply dark:text-gray-400 dark:hover:text-purple-300 dark:hover:bg-gray-700;
  }

  .nav-dropdown-item-active {
    @apply text-brand-purple bg-purple-100;
    @apply dark:text-purple-300 dark:bg-purple-900/30;
  }

  /* =================================================================
     MOBILE SUBMENU
     ================================================================= */

  .mobile-nav-submenu {
    @apply flex flex-col;
  }

  .mobile-nav-submenu-trigger {
    @apply flex items-center justify-between w-full text-left;
    @apply bg-transparent border-none cursor-pointer;
  }

  .mobile-nav-chevron {
    @apply w-5 h-5 transition-transform duration-200;
  }

  .mobile-nav-chevron-open {
    @apply rotate-180;
  }

  .mobile-nav-submenu-items {
    @apply pl-4 ml-4 mt-1 border-l-2 border-edge-secondary;
    @apply dark:border-gray-700;
  }

  .mobile-nav-submenu-item {
    @apply text-base;
  }
}
