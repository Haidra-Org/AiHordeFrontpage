/* =================================================================
   DATA DISPLAY STYLES
   
   Reusable patterns for displaying data, stats, and key-value pairs.
   
   Includes:
   - Data item (label + value pairs)
   - Data grids (responsive column layouts)
   - Highlight boxes (gradient backgrounds for emphasis)
   - Section dividers (internal section borders)
   - Avatar circles
   - Loading skeletons/placeholders
   - Worker cards and related components
   ================================================================= */

@layer components {
  /* =================================================================
     DATA ITEMS - Label + Value pairs
     ================================================================= */

  /* Base data item - vertical stack */
  .data-item {
    @apply flex flex-col;
  }

  /* Data item with background - for stat boxes */
  .data-item-box {
    @apply flex flex-col p-3 rounded;
    @apply dark:border-edge-primary;
  }

  /* Centered variant */
  .data-item-centered {
    @apply text-center items-center;
  }

  /* Data item label */
  .data-label {
    @apply text-base font-semibold text-content-secondary;
    @apply dark:text-gray-400;
  }

  /* Data label with top margin - for spacing below values */
  .data-label-spaced {
    @apply text-xs text-content-secondary mt-1;
  }

  /* Data item value */
  .data-value {
    @apply font-semibold text-content-primary;
    @apply dark:text-white;
  }

  /* Tabular numeric text utility */
  .text-tabular {
    font-variant-numeric: tabular-nums;
  }

  /* Large data value - for prominent stats */
  .data-value-lg {
    @apply text-2xl font-bold text-content-primary;
    @apply dark:text-white;
  }

  /* Extra large data value - for hero stats */
  .data-value-xl {
    @apply text-4xl font-extrabold text-brand-purple;
  }

  /* =================================================================
     DATA GRIDS - Responsive column layouts
     ================================================================= */

  /* 2-column grid */
  .data-grid-2 {
    @apply grid grid-cols-2 gap-3;
  }

  /* 2-3 column responsive grid */
  .data-grid-2-3 {
    @apply grid grid-cols-2 gap-3 lg:grid-cols-3;
  }

  /* 1-2 column responsive grid */
  .data-grid-1-2 {
    @apply grid grid-cols-1 gap-3 sm:grid-cols-2;
  }

  /* 1-2-3 column responsive grid */
  .data-grid-1-2-3 {
    @apply grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3;
  }

  /* 2-4 column responsive grid */
  .data-grid-2-4 {
    @apply grid grid-cols-2 gap-3 md:grid-cols-4;
  }

  /* 2-4 column responsive grid with larger gap */
  .data-grid-2-4-spaced {
    @apply grid grid-cols-2 gap-4 md:grid-cols-4;
  }

  /* =================================================================
     HIGHLIGHT BOXES - Gradient backgrounds for emphasis
     ================================================================= */

  /* Purple-blue gradient highlight - for kudos, important stats */
  .highlight-box {
    @apply flex flex-col items-center p-4 mb-4 rounded-lg;
    background: linear-gradient(
      to bottom right,
      rgb(243 232 255),
      rgb(219 234 254)
    );
  }

  .dark .highlight-box {
    background: linear-gradient(
      to bottom right,
      color-mix(in srgb, var(--color-brand-purple) 30%, transparent),
      color-mix(in srgb, var(--color-brand-blue) 30%, transparent)
    );
  }

  /* =================================================================
     SECTION DIVIDERS - Internal section separators
     ================================================================= */

  /* Top border divider */
  .section-divider-top {
    @apply mt-6 pt-6 border-t border-edge-primary;
  }

  /* Bottom border divider */
  .section-divider-bottom {
    @apply mb-6 pb-6 border-b border-edge-primary;
  }

  /* =================================================================
     AVATAR CIRCLES
     ================================================================= */

  /* Base avatar circle */
  .avatar-circle {
    @apply flex items-center justify-center rounded-full shrink-0;
  }

  /* Large avatar - 5rem */
  .avatar-lg {
    @apply w-20 h-20;
  }

  /* Avatar with gradient background */
  .avatar-gradient {
    background: linear-gradient(
      to bottom right,
      var(--color-brand-purple),
      var(--color-brand-blue)
    );
  }

  /* Avatar text */
  .avatar-text {
    @apply text-3xl font-bold text-white;
  }

  /* =================================================================
     PROFILE HEADER
     ================================================================= */

  /* Profile header with avatar and info */
  .profile-header {
    @apply flex items-center gap-6;
  }

  /* Profile header content */
  .profile-header-content {
    @apply flex flex-col;
  }

  /* =================================================================
     SECTION TITLE - Small caps section headers
     ================================================================= */

  .section-title-sm {
    @apply text-base font-bold text-content-secondary mb-4 uppercase tracking-wide;
    @apply dark:text-gray-400;
  }

  /* =================================================================
     LOADING SKELETONS / PLACEHOLDERS
     ================================================================= */

  /* Placeholder container */
  .skeleton-box {
    @apply border border-edge-primary rounded-xl bg-surface-secondary p-4 min-h-32;
    @apply flex flex-col gap-2 justify-center;
    @apply dark:border-edge-primary dark:bg-gray-900;
  }

  /* Dashed border variant for missing items */
  .skeleton-box-dashed {
    @apply border-dashed;
  }

  /* Placeholder animated bar */
  .skeleton-bar {
    @apply h-2.5 rounded-full;
    background: linear-gradient(
      90deg,
      var(--color-edge-primary),
      var(--color-content-secondary),
      var(--color-edge-primary)
    );
    animation: skeleton-pulse 1.4s ease-in-out infinite;
  }

  /* Skeleton bar widths */
  .skeleton-bar-sm {
    @apply w-2/5;
  }

  .skeleton-bar-md {
    @apply w-3/5;
  }

  .skeleton-bar-lg {
    @apply w-[70%];
  }

  /* =================================================================
     TWO-COLUMN CARD LAYOUT
     ================================================================= */

  /* Side-by-side cards container */
  .card-row-2 {
    @apply grid grid-cols-1 gap-6 mb-6 md:grid-cols-2 md:items-stretch;
  }

  .card-row-2 > .card {
    @apply max-w-none text-left;
  }

  /* =================================================================
     WORKER GRID
     ================================================================= */

  /* 1-2-3 column responsive grid for workers */
  .worker-grid {
    @apply grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3;
    @apply max-w-lg mx-auto sm:max-w-none;
  }

  /* =================================================================
     ENTITY HIGHLIGHTING - Unified highlighting for linked/selected items
     ================================================================= */

  /* Base entity highlighting - orange ring for linked items from URL */
  .entity-highlighted {
    @apply ring-4 ring-orange-400 ring-offset-2;
    @apply dark:ring-orange-500 dark:ring-offset-gray-900;
    scroll-margin-top: 1rem;
  }

  /* =================================================================
     WORKER CARDS - Theme-aware worker display cards
     ================================================================= */

  /* Worker card base */
  .worker-card-normal {
    @apply rounded-xl overflow-hidden bg-surface-primary border-2 border-edge-secondary;
    @apply dark:bg-transparent dark:border dark:border-edge-primary;
    @apply max-w-lg;
  }

  /* Worker card with issue state */
  .worker-card-issue {
    @apply rounded-xl overflow-hidden bg-red-50 border border-red-300;
    @apply dark:bg-red-900/30 dark:border-red-800/50;
  }

  /* Worker card highlighted state (linked from URL) */
  .worker-card-highlighted {
    @apply ring-4 ring-orange-400 ring-offset-2;
    @apply dark:ring-orange-500 dark:ring-offset-gray-900;
    scroll-margin-top: 1rem;
  }

  /* Worker card section dividers */
  .worker-card-section {
    @apply border-t border-edge-primary;
  }

  /* Worker card info rows */
  .worker-card-row {
    @apply flex justify-between;
  }

  .worker-card-label {
    @apply text-content-secondary;
  }

  .worker-card-value {
    @apply text-content-primary;
    @apply dark:text-gray-200;
  }

  /* Worker status icon containers */
  .worker-status-icon {
    @apply flex items-center justify-center w-10 h-10 rounded-full shrink-0;
  }

  .worker-status-icon-success {
    @apply bg-green-100 text-green-600;
    @apply dark:bg-green-800 dark:text-green-400;
  }

  .worker-status-icon-error {
    @apply bg-red-100 text-red-600;
    @apply dark:bg-red-900 dark:text-red-400;
  }

  /* Worker status indicator colors */
  .worker-indicator-yellow {
    @apply text-yellow-600;
    @apply dark:text-yellow-400;
  }

  .worker-indicator-red {
    @apply text-red-600;
    @apply dark:text-red-400;
  }

  .worker-indicator-green {
    @apply text-green-600;
    @apply dark:text-green-400;
  }

  /* Worker capability badges */
  .worker-badge {
    @apply inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full;
    @apply bg-edge-secondary text-content-secondary;
    @apply dark:bg-green-900 dark:text-gray-200;
  }

  /* Worker card link style */
  .worker-link {
    @apply no-underline transition-colors duration-200;
  }

  .worker-link:hover {
    @apply underline;
  }

  /* Worker item link - clickable worker/team member card in grid lists */
  .worker-item-link {
    @apply block p-3 rounded-lg no-underline;
    @apply bg-gray-100 border border-gray-200;
    @apply transition-colors duration-200;
    @apply dark:bg-gray-800 dark:border-gray-700;
  }

  .worker-item-link:hover {
    @apply bg-gray-50;
    border-color: var(--color-primary-light);
  }

  .dark .worker-item-link:hover {
    @apply bg-gray-700;
  }

  /* Worker item header - row with name and status badge */
  .worker-item-header {
    @apply flex items-center justify-between;
  }

  /* Worker item name - truncated medium weight text */
  .worker-item-name {
    @apply font-medium truncate;
  }

  /* Worker item ID/subtitle - small muted text */
  .worker-item-subtitle {
    @apply text-xs text-content-secondary mt-1 truncate;
  }

  /* Team/entity card link - larger clickable card for grid lists */
  .entity-card-link {
    @apply block p-4 rounded-lg no-underline;
    @apply bg-gray-100 border border-gray-200;
    @apply transition-colors duration-200;
    @apply dark:bg-gray-800 dark:border-gray-700;
  }

  .entity-card-link:hover {
    @apply border-blue-500;
  }

  .dark .entity-card-link:hover {
    @apply border-blue-400;
  }

  /* Entity card title - blue link-style heading */
  .entity-card-title {
    @apply text-blue-600 mb-2;
    @apply dark:text-blue-400;
  }

  /* Entity card stats row - compact stats with icons */
  .entity-card-stats {
    @apply flex flex-wrap gap-3 text-xs text-content-secondary;
  }

  /* Entity card stat item - icon + text */
  .entity-card-stat {
    @apply flex items-center gap-1;
  }

  /* Entity card highlighted state (linked from URL) */
  .entity-card-highlighted {
    @apply ring-4 ring-orange-400 ring-offset-2;
    @apply dark:ring-orange-500 dark:ring-offset-gray-900;
    scroll-margin-top: 1rem;
  }

  /* Worker badge interactive - clickable badge with hover ring effect */
  .worker-badge-interactive {
    @apply cursor-pointer transition-shadow duration-200;
  }

  .worker-badge-interactive:hover {
    @apply ring-2;
    --tw-ring-color: var(--color-primary-light);
  }

  /* Worker card button styles */
  .worker-btn {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200;
    @apply text-content-secondary bg-edge-secondary;
    @apply hover:bg-edge-primary hover:text-content-primary;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .dark .worker-btn {
    @apply text-gray-200 bg-gray-600;
  }

  .dark .worker-btn:hover {
    @apply bg-gray-500 text-white;
  }

  /* Models button - fits with overall theme */
  .worker-btn-models {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200;
    @apply text-blue-600 bg-blue-100;
    @apply hover:bg-blue-200 hover:text-blue-700;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .dark .worker-btn-models {
    @apply text-blue-300 bg-blue-900;
  }

  .dark .worker-btn-models:hover {
    @apply bg-blue-600 text-blue-100;
  }

  /* Maintenance button - yellow/warning theme */
  .worker-btn-maintenance {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200;
    @apply text-yellow-800 bg-yellow-100;
    @apply hover:bg-yellow-300 hover:text-yellow-900;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .dark .worker-btn-maintenance {
    @apply text-yellow-300 bg-yellow-900;
  }

  .dark .worker-btn-maintenance:hover {
    @apply bg-yellow-700 text-yellow-100;
  }

  /* Pause button - red/danger theme */
  .worker-btn-pause {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200;
    @apply text-red-700 bg-red-100;
    @apply hover:bg-red-300 hover:text-red-800;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .dark .worker-btn-pause {
    @apply text-red-300 bg-red-800;
  }

  .dark .worker-btn-pause:hover {
    @apply bg-red-700 text-red-100;
  }

  /* Worker messages section */
  .worker-message {
    @apply text-xs bg-surface-secondary rounded p-2;
    @apply dark:bg-gray-700;
  }

  /* =================================================================
     RECORDS SECTION - Data record containers
     ================================================================= */

  /* Records section wrapper - consistent spacing for record groups */
  .records-section-wrapper {
    @apply mt-4;
  }

  /* Record group container - spacing between different record types */
  .record-group {
    @apply mb-8 last:mb-0;
  }

  /* =================================================================
     PARAMETER GRID - Key-value pairs in responsive grid
     ================================================================= */

  /* Parameter grid container */
  .param-grid {
    @apply grid gap-4 m-0;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));

    @media (max-width: 640px) {
      @apply grid-cols-2;
    }
  }

  /* Single parameter item */
  .param-item {
    @apply flex flex-col gap-1;
  }

  /* Full-width parameter */
  .param-item-full {
    @apply col-span-full;
  }

  /* Parameter label (dt) */
  .param-label {
    @apply text-xs font-semibold uppercase tracking-tight text-content-muted;
    @apply dark:text-gray-500;
  }

  /* Parameter value (dd) */
  .param-value {
    @apply m-0 text-base font-medium text-content-primary;
    @apply dark:text-gray-200;
  }

  /* =================================================================
     STEP INDICATORS - Numbered steps for guides/tutorials
     ================================================================= */

  /* Step list container */
  .step-list {
    @apply space-y-6;
  }

  /* Step item row */
  .step-item {
    @apply flex gap-4;
  }

  /* Numbered step circle */
  .step-number {
    @apply shrink-0 w-10 h-10 rounded-full flex items-center justify-center;
    @apply bg-purple-600 text-white font-bold;
    @apply dark:bg-purple-500;
  }

  /* Step content area */
  .step-content {
    @apply flex-1;
  }

  .step-title {
    @apply text-lg font-semibold mb-1;
    @apply text-content-primary;
    @apply dark:text-white;
  }

  .step-description {
    @apply text-content-secondary;
    @apply dark:text-gray-400;
  }

  /* =================================================================
     SOFTWARE LINK CARDS - GitHub repo/download links
     ================================================================= */

  /* Software link container */
  .software-link {
    @apply flex items-center gap-3 p-3 rounded-lg no-underline;
    @apply bg-surface-primary border border-edge-primary;
    @apply transition-colors duration-200;
    @apply dark:bg-gray-700 dark:border-gray-600;
  }

  .software-link:hover {
    @apply border-purple-500;
    @apply dark:border-purple-400;
  }

  .software-link--blue:hover {
    @apply border-blue-500;
    @apply dark:border-blue-400;
  }

  /* Software icon container (small) */
  .software-icon {
    @apply shrink-0 w-10 h-10 rounded-lg flex items-center justify-center;
  }

  .software-icon-purple {
    @apply bg-purple-100 text-purple-600;
    @apply dark:bg-purple-900 dark:text-purple-300;
  }

  .software-icon-blue {
    @apply bg-blue-100 text-blue-600;
    @apply dark:bg-blue-900 dark:text-blue-300;
  }

  .software-icon svg {
    @apply w-5 h-5;
  }

  /* Software link content */
  .software-link-content {
    @apply flex-1 min-w-0;
  }

  .software-link-title {
    @apply font-semibold;
    @apply text-content-primary;
    @apply dark:text-white;
  }

  .software-link-description {
    @apply text-sm;
    @apply text-content-secondary;
    @apply dark:text-gray-400;
  }

  /* External link icon */
  .software-link-arrow {
    @apply w-5 h-5;
    @apply text-content-muted;
    @apply dark:text-gray-500;
  }

  /* Transparency box - bordered container with checkmarks */
  .transparency-box {
    @apply p-6 rounded-lg;
    @apply bg-surface-secondary border border-edge-primary;
    @apply dark:bg-gray-800 dark:border-gray-700;
  }
}

@keyframes skeleton-pulse {
  0% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.4;
  }
}
