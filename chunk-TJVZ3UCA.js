import{a as D}from"./chunk-UQV72EDM.js";import{e as I}from"./chunk-J27YOVZ5.js";import{a as y}from"./chunk-Z4QX4XJM.js";import"./chunk-T6V27EFK.js";import{a as L}from"./chunk-ISHBUXAM.js";import"./chunk-VFTR325L.js";import{c as B,d as H}from"./chunk-BMIYH3UD.js";import{l as T}from"./chunk-3GXWXVSS.js";import{k as V}from"./chunk-GZDNXZTC.js";import{Db as k,Oa as i,Rb as a,Tb as r,X as f,Za as E,ca as c,da as u,dc as w,ga as M,gc as o,hc as d,ic as C,ob as S,pb as g,r as _,ub as e,vb as t,wb as p}from"./chunk-QF4LG6ZD.js";import"./chunk-4CLCTAJ7.js";var U=n=>({username:n});function G(n,s){if(n&1&&(e(0,"div",4)(1,"div",15),c(),e(2,"svg",6),p(3,"path",16),t()(),u(),e(4,"div",8)(5,"p",9),a(6),o(7,"transloco"),t(),e(8,"p",10),a(9),o(10,"formatNumber"),t()()()),n&2){let v=k();i(6),r(" ",d(7,2,"admin.dashboard.images_requested")," "),i(3),r(" ",d(10,4,v.auth.currentUser().usage.requests??0)," ")}}function j(n,s){if(n&1&&(e(0,"div",4)(1,"div",17),c(),e(2,"svg",6),p(3,"path",18),t()(),u(),e(4,"div",8)(5,"p",9),a(6),o(7,"transloco"),t(),e(8,"p",10),a(9),o(10,"formatNumber"),t()()()),n&2){let v=k();i(6),r(" ",d(7,2,"admin.dashboard.images_generated")," "),i(3),r(" ",d(10,4,v.auth.currentUser().contributions.fulfillments??0)," ")}}function z(n,s){if(n&1&&(e(0,"div",13)(1,"div",19),c(),e(2,"svg",6),p(3,"path",20),t()(),u(),e(4,"div",8)(5,"p",9),a(6),o(7,"transloco"),t(),e(8,"p",21),a(9),t()()()),n&2){let v=k();i(6),r(" ",d(7,2,"admin.dashboard.account_age")," "),i(3),r(" ",v.formatAccountAge(v.auth.currentUser().account_age)," ")}}function $(n,s){n&1&&(e(0,"div",14)(1,"h2",22),a(2),o(3,"transloco"),t(),e(4,"p",23),a(5),o(6,"transloco"),t(),e(7,"div",24)(8,"a",25)(9,"div",26),c(),e(10,"svg",6),p(11,"path",27),t()(),u(),e(12,"div",8)(13,"p",28),a(14),o(15,"transloco"),t()(),c(),e(16,"svg",29),p(17,"path",30),t()(),u(),e(18,"a",31)(19,"div",32),c(),e(20,"svg",6),p(21,"path",12),t()(),u(),e(22,"div",8)(23,"p",28),a(24),o(25,"transloco"),t()(),c(),e(26,"svg",29),p(27,"path",30),t()()()()),n&2&&(i(2),r(" ",d(3,4,"admin.dashboard.moderator_tools")," "),i(3),r(" ",d(6,6,"admin.dashboard.moderator_description")," "),i(9),r(" ",d(15,8,"admin.dashboard.view_users")," "),i(10),r(" ",d(25,10,"admin.dashboard.view_workers")," "))}var Y=(()=>{let s=class s{constructor(){this.title=f(T),this.translator=f(L),this.destroyRef=f(M),this.auth=f(y)}ngOnInit(){_([this.translator.get("admin.dashboard.title"),this.translator.get("app_title")]).pipe(V(this.destroyRef)).subscribe(([h,l])=>{this.title.setTitle(`${h} | ${l}`)})}formatAccountAge(h){let l=Math.floor(h/86400);if(l>365){let m=Math.floor(l/365),x=l%365;return`${m} year${m!==1?"s":""}, ${x} day${x!==1?"s":""}`}return`${l} day${l!==1?"s":""}`}};s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=E({type:s,selectors:[["app-admin-dashboard"]],decls:31,vars:20,consts:[[1,"max-w-6xl","flex","flex-col","mx-auto"],[1,"mb-8"],[1,"admin-heading-lg"],[1,"admin-grid-stats-4","mb-8"],[1,"panel","stat-card"],[1,"stat-card-icon","stat-card-icon-purple"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card-content"],[1,"stat-card-label"],[1,"stat-card-value"],[1,"stat-card-icon","stat-card-icon-yellow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"],[1,"panel","stat-card","mb-8"],[1,"panel","p-6"],[1,"stat-card-icon","stat-card-icon-blue"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"stat-card-icon","stat-card-icon-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card-icon","stat-card-icon-indigo"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"admin-heading-section"],[1,"admin-heading-section","mb-2"],[1,"admin-text-muted","mb-6"],[1,"admin-grid-tools"],["routerLink","/admin/users/",1,"panel-link"],[1,"stat-card-icon","stat-card-icon-purple","rounded-full"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"admin-text-white","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","admin-text-muted"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["routerLink","/admin/workers/",1,"panel-link"],[1,"stat-card-icon","stat-card-icon-blue","rounded-full"]],template:function(l,m){if(l&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),a(3),o(4,"transloco"),t()(),e(5,"div",3)(6,"div",4)(7,"div",5),c(),e(8,"svg",6),p(9,"path",7),t()(),u(),e(10,"div",8)(11,"p",9),a(12),o(13,"transloco"),t(),e(14,"p",10),a(15),o(16,"formatNumber"),t()()(),S(17,G,11,6,"div",4),S(18,j,11,6,"div",4),e(19,"div",4)(20,"div",11),c(),e(21,"svg",6),p(22,"path",12),t()(),u(),e(23,"div",8)(24,"p",9),a(25),o(26,"transloco"),t(),e(27,"p",10),a(28),t()()()(),S(29,z,10,4,"div",13),S(30,$,28,12,"div",14),t()),l&2){let x,b;i(3),r(" ",C(4,9,"admin.dashboard.welcome",w(18,U,m.auth.currentUser().username))," "),i(9),r(" ",d(13,12,"admin.dashboard.kudos_balance")," "),i(3),r(" ",d(16,14,m.auth.currentUser().kudos)," "),i(2),g((x=m.auth.currentUser().usage)!=null&&x.requests?17:-1),i(),g((b=m.auth.currentUser().contributions)!=null&&b.fulfillments?18:-1),i(7),r(" ",d(26,16,"admin.dashboard.worker_count")," "),i(3),r(" ",m.auth.currentUser().worker_count??0," "),i(),g(m.auth.currentUser().account_age?29:-1),i(),g(m.auth.currentUser().moderator?30:-1)}},dependencies:[B,H,I,D],encapsulation:2,changeDetection:0});let n=s;return n})();export{Y as DashboardComponent};
