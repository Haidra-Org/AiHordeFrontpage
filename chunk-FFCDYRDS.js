import{c as X}from"./chunk-BMIYH3UD.js";import{c as N}from"./chunk-GZDNXZTC.js";import{Cb as A,Db as f,Oa as p,Qb as G,Rb as d,S as H,Sb as S,Tb as D,X as w,Za as R,aa as I,ba as b,gb as U,gc as V,hc as v,ja as M,nb as k,nc as h,ob as u,pa as E,pb as _,qb as B,rb as L,rc as y,sb as j,ta as O,ub as m,vb as c,wb as g,zb as Q}from"./chunk-QF4LG6ZD.js";function tt(o,n){if(o&1&&(m(0,"span",6),d(1),V(2,"transloco"),c()),o&2){let a=f().$implicit;p(),S(v(2,1,a))}}function et(o,n){if(o&1&&(d(0),V(1,"transloco")),o&2){let a=f().$implicit;D(" ",v(1,1,a)," ")}}function it(o,n){o&1&&g(0,"br")}function ot(o,n){if(o&1&&(g(0,"br"),u(1,it,1,0,"br")),o&2){let a=f().$index;p(),_(a===0||a===1?1:-1)}}function nt(o,n){if(o&1&&(u(0,tt,3,3,"span",6)(1,et,2,3),u(2,ot,2,1)),o&2){let a=n.$index,t=f(2);_(a===0||a===2?0:1),p(2),_(a<t.unit().explanationKeys.length-1?2:-1)}}function rt(o,n){if(o&1){let a=Q();m(0,"span",1),A("mouseenter",function(){I(a);let e=f();return b(e.onInteraction())})("focusin",function(){I(a);let e=f();return b(e.onInteraction())}),m(1,"span",2),d(2),c(),m(3,"span",3)(4,"strong",4),d(5),c(),g(6,"br"),m(7,"span",5),d(8),c(),g(9,"br")(10,"br"),L(11,nt,3,2,null,null,B),c()()}if(o&2){let a=f();G(a.positionClasses()),k("data-tooltip-position",a.position()),p(2),S(a.primaryDisplay()),p(3),S(a.tooltipBoldDisplay()),p(3),D("(",a.tooltipMutedDisplay(),")"),p(3),j(a.unit().explanationKeys)}}var at=300,st=280,C=16,dt=(()=>{let n=class n{constructor(){this.elementRef=w(E),this.platformId=w(O),this.unit=y.required(),this.primaryOverride=y(null),this.swapDisplay=y(!1),this.position=y("auto"),this.autoDetectedPosition=M(""),this.positionClasses=h(()=>{let t=this.position();if(t!=="auto"){let e=[];return t.includes("bottom")&&e.push("tooltip-pos-bottom"),(t.includes("left")||t==="left")&&e.push("tooltip-pos-left"),(t.includes("right")||t==="right")&&e.push("tooltip-pos-right"),e.join(" ")}return this.autoDetectedPosition()}),this.primaryDisplay=h(()=>{let t=this.primaryOverride();if(t)return t;let e=this.unit();return e?this.swapDisplay()?e.technical.formatted:e.primary.formatted:""}),this.technicalDisplay=h(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""}),this.tooltipBoldDisplay=h(()=>{let t=this.unit();return t?this.swapDisplay()?t.technical.formatted:t.primary.formatted:""}),this.tooltipMutedDisplay=h(()=>{let t=this.unit();return t?this.swapDisplay()?t.primary.formatted:t.technical.formatted:""}),U(()=>{this.detectPosition()})}detectPosition(){if(!N(this.platformId))return;let e=this.elementRef.nativeElement.querySelector(".tooltip-wrapper");if(!e)return;let i=e.getBoundingClientRect(),r=window.innerWidth,l=window.innerHeight,s=Math.min(at,r-C*2),P=i.left+i.width/2,z=P-s/2,J=P+s/2,T=z<C,W=J>r-C,K=i.top,Y=l-i.bottom,Z=K<st+C&&Y>K,x=[];Z&&x.push("tooltip-pos-bottom"),T&&!W?x.push("tooltip-pos-left"):W&&!T?x.push("tooltip-pos-right"):T&&W&&x.push("tooltip-pos-left"),this.autoDetectedPosition.set(x.join(" "))}onInteraction(){this.position()==="auto"&&this.detectPosition()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=R({type:n,selectors:[["app-unit-tooltip"]],inputs:{unit:[1,"unit"],primaryOverride:[1,"primaryOverride"],swapDisplay:[1,"swapDisplay"],position:[1,"position"]},decls:1,vars:1,consts:[["tabindex","0","role","button","aria-describedby","tooltip-content",1,"tooltip-wrapper",3,"class"],["tabindex","0","role","button","aria-describedby","tooltip-content",1,"tooltip-wrapper",3,"mouseenter","focusin"],[1,"dotted-underline"],["role","tooltip","id","tooltip-content",1,"tooltip-text"],[1,"tooltip-highlight"],[1,"tooltip-muted"],[1,"tooltip-math"]],template:function(e,i){e&1&&u(0,rt,13,6,"span",0),e&2&&_(i.unit()?0:-1)},dependencies:[X],encapsulation:2,changeDetection:0});let o=n;return o})();var F=[{threshold:1e15,prefix:"peta",short:"P"},{threshold:1e12,prefix:"tera",short:"T"},{threshold:1e9,prefix:"giga",short:"G"},{threshold:1e6,prefix:"mega",short:"M"},{threshold:1e3,prefix:"kilo",short:"K"},{threshold:1,prefix:"",short:""}],$=[{threshold:1e15,prefix:"quadrillion",short:"Q"},{threshold:1e12,prefix:"trillion",short:"T"},{threshold:1e9,prefix:"billion",short:"B"},{threshold:1e6,prefix:"million",short:"M"},{threshold:1e3,prefix:"thousand",short:"K"},{threshold:1,prefix:"",short:""}],xt=(()=>{let n=class n{formatWithSiPrefix(t,e,i=1){let r=this.getSiPrefix(t),l=t/r.threshold,P=e.includes(" ")&&r.prefix?" ":"";return{value:l,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:`${l.toFixed(i)} ${r.prefix}${P}${e}`,formattedShort:`${l.toFixed(i)}${r.short} ${e}`}}formatWithHumanPrefix(t,e,i=1){let r=this.getHumanPrefix(t),l=t/r.threshold,s=[l.toFixed(i)];return r.prefix&&s.push(r.prefix),e&&s.push(e),{value:l,prefix:r.prefix,prefixShort:r.short,unit:e,formatted:s.join(" "),formattedShort:`${l.toFixed(i)}${r.short} ${e}`}}getSiPrefix(t){let e=Math.abs(t);for(let i of F)if(e>=i.threshold)return i;return F[F.length-1]}formatImagePerformanceRate(t){let e=t/60,i=e/20;return{primary:this.formatWithSiPrefix(i,"standard images",1),technical:{value:e,prefix:"mega",prefixShort:"M",unit:"pixelsteps/sec",formatted:`${e.toFixed(2)} megapixelsteps/sec`,formattedShort:`${e.toFixed(2)} Mpixelsteps/sec`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatQueuedImageWork(t){let e=t/20;return{primary:this.formatWithSiPrefix(e,"standard images",1),technical:{value:t,prefix:"",prefixShort:"",unit:"megapixelsteps",formatted:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`,formattedShort:`${t.toLocaleString(void 0,{maximumFractionDigits:0})} megapixelsteps`},rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTotalPixelsteps(t){let i=t/1e6/20;return{primary:this.formatWithSiPrefix(t,"pixelsteps",1),technical:this.formatWithHumanPrefix(i,"standard images",1),rawValue:t,explanationKeys:["standard_images.tooltip.line1","standard_images.tooltip.line2","standard_images.tooltip.line3"]}}formatTextPerformanceRate(t){let e=t/60,i=e*.75/500;return{primary:this.formatWithSiPrefix(i,"pages/sec",2),technical:this.formatWithSiPrefix(e,"tokens/sec",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatTotalTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTokens(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatQueuedTextWork(t){return this.formatQueuedTokens(t)}formatLargeNumber(t,e="",i=1){let r=this.getHumanPrefix(t),s=[(t/r.threshold).toFixed(i)];return r.prefix&&s.push(r.prefix),e&&s.push(e),s.join(" ")}formatLargeNumberTechnical(t,e="",i=1){return this.formatWithSiPrefix(t,e,i).formatted}getHumanPrefix(t){let e=Math.abs(t);for(let i of $)if(e>=i.threshold)return i;return $[$.length-1]}formatWithCommas(t,e=0){return t.toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e})}formatModelQueuedImage(t){let e=t/1e6,i=e/20;return{primary:this.formatWithSiPrefix(e,"mps",1),technical:this.formatWithHumanPrefix(i,"standard images",1),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatModelQueuedText(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatModelPerformanceImage(t){let e=t/1e6,i=e/20;return{primary:{value:e,prefix:"",prefixShort:"",unit:"mps/s",formatted:`${e.toFixed(2)} mps/s`,formattedShort:`${e.toFixed(2)} mps/s`},technical:this.formatWithSiPrefix(i,"std img/s",2),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatModelPerformanceText(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens/s",1),technical:this.formatWithSiPrefix(e,"pages/s",3),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatWorkerPerformanceImage(t){let e=t/20;return{primary:{value:t,prefix:"",prefixShort:"",unit:"mps/s",formatted:`${t.toFixed(2)} mps/s`,formattedShort:`${t.toFixed(2)} mps/s`},technical:this.formatWithSiPrefix(e,"std img/s",2),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatWorkerPerformanceText(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens/s",1),technical:this.formatWithSiPrefix(e,"pages/s",3),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}formatWorkerMegapixelstepsGenerated(t){let e=t/20;return{primary:this.formatWithSiPrefix(t,"mps",1),technical:this.formatWithHumanPrefix(e,"standard images",1),rawValue:t,explanationKeys:["mps.tooltip.line1","mps.tooltip.line2","standard_images.tooltip.line3"]}}formatWorkerTokensGenerated(t){let e=t*.75/500;return{primary:this.formatWithSiPrefix(t,"tokens",1),technical:this.formatWithHumanPrefix(e,"pages of text",1),rawValue:t,explanationKeys:["pages_of_text.tooltip.line1","pages_of_text.tooltip.line2","pages_of_text.tooltip.line3"]}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();export{dt as a,xt as b};
