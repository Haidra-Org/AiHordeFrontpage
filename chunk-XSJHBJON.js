import{b as G}from"./chunk-KQZVQD3N.js";import{a as U}from"./chunk-UQV72EDM.js";import{c as H}from"./chunk-BMIYH3UD.js";import{e as j}from"./chunk-T4BZNTIM.js";import{Cb as v,Db as C,Ka as B,Oa as n,Ob as E,Rb as d,Sb as f,Tb as _,Ub as P,Za as L,aa as k,ba as b,ca as h,da as I,gc as m,hc as u,nb as T,nc as y,ob as c,pb as p,qb as V,qc as x,rb as D,rc as S,sb as M,tb as w,ub as a,vb as r,wb as g,zb as A}from"./chunk-QF4LG6ZD.js";function N(e,o){if(e&1&&(a(0,"div",1),g(1,"img",16),r()),e&2){let l=C();n(),w("src",l.primaryExampleUrl(),B)("alt",l.style().name)}}function Z(e,o){e&1&&(a(0,"div",1),h(),a(1,"svg",17),g(2,"path",18),r()())}function F(e,o){e&1&&(d(0),m(1,"transloco")),e&2&&_(" ",u(1,1,"styles.type.image")," ")}function R(e,o){e&1&&(d(0),m(1,"transloco")),e&2&&_(" ",u(1,1,"styles.type.text")," ")}function $(e,o){e&1&&(a(0,"span",5),d(1),m(2,"transloco"),r()),e&2&&(n(),_(" ",u(2,1,"styles.nsfw")," "))}function q(e,o){if(e&1&&(a(0,"p",8),d(1),r()),e&2){let l=C();n(),f(l.style().info)}}function z(e,o){if(e&1&&(a(0,"span",19),d(1),r()),e&2){let l=o.$implicit;n(),f(l)}}function O(e,o){if(e&1&&(a(0,"span",20),d(1),r()),e&2){let l=C(2);n(),_(" +",l.extraTagsCount()," ")}}function J(e,o){if(e&1&&(a(0,"div",9),D(1,z,2,1,"span",19,V),c(3,O,2,1,"span",20),r()),e&2){let l=C();n(),M(l.displayTags()),n(2),p(l.hasMoreTags()?3:-1)}}function K(e,o){if(e&1){let l=A();a(0,"div",15)(1,"button",21),m(2,"transloco"),v("click",function(s){k(l);let i=C();return b(i.onEdit(s))}),h(),a(3,"svg",22),g(4,"path",23),r()(),I(),a(5,"button",21),m(6,"transloco"),v("click",function(s){k(l);let i=C();return b(i.onDelete(s))}),h(),a(7,"svg",22),g(8,"path",24),r()()()}e&2&&(n(),T("aria-label",u(2,2,"styles.edit")),n(4),T("aria-label",u(6,4,"styles.delete")))}var oe=(()=>{let o=class o{constructor(){this.style=S.required(),this.styleType=S.required(),this.showActions=S(!1),this.edit=x(),this.delete=x(),this.navigate=x(),this.isImage=y(()=>this.styleType()==="image"),this.primaryExampleUrl=y(()=>{let t=this.style();return G(t)&&t.examples&&t.examples.length>0?t.examples.find(i=>i.primary)?.url??t.examples[0].url:null}),this.creatorDisplayName=y(()=>{let t=this.style().creator;if(!t)return"Unknown";let s=t.indexOf("#");return s>0?t.substring(0,s):t}),this.displayTags=y(()=>(this.style().tags??[]).slice(0,3)),this.hasMoreTags=y(()=>(this.style().tags??[]).length>3),this.extraTagsCount=y(()=>(this.style().tags??[]).length-3),this.detailRoute=y(()=>{let t=this.styleType(),s=this.style().id;return`/details/styles/${t}/${s}`})}onEdit(t){t.preventDefault(),t.stopPropagation(),this.edit.emit()}onDelete(t){t.preventDefault(),t.stopPropagation(),this.delete.emit()}onCardClick(){this.navigate.emit()}};o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=L({type:o,selectors:[["app-style-card"]],inputs:{style:[1,"style"],styleType:[1,"styleType"],showActions:[1,"showActions"]},outputs:{edit:"edit",delete:"delete",navigate:"navigate"},decls:24,vars:24,consts:[[1,"card","card-full","card-bg-primary","card-interactive",3,"click","routerLink"],[1,"card-preview"],[1,"card-content"],[1,"card-header-row"],[1,"badge-base"],[1,"badge-base","badge-danger"],[1,"card-title"],[1,"card-subtitle"],[1,"card-description"],[1,"badge-container"],[1,"card-footer"],[1,"card-stat"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"card-stat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7Z"],[1,"card-actions"],["loading","lazy",3,"src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"card-preview-icon","card-preview-icon-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],[1,"badge-base","badge-secondary"],[1,"badge-base","badge-primary"],["type","button",1,"btn-source-control","card-action-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"]],template:function(s,i){s&1&&(a(0,"a",0),v("click",function(){return i.onCardClick()}),c(1,N,2,2,"div",1),c(2,Z,3,0,"div",1),a(3,"div",2)(4,"div",3)(5,"span",4),c(6,F,2,3)(7,R,2,3),r(),c(8,$,3,3,"span",5),r(),a(9,"h3",6),d(10),r(),a(11,"p",7),d(12),m(13,"transloco"),r(),c(14,q,2,1,"p",8),c(15,J,4,1,"div",9),a(16,"div",10)(17,"span",11),h(),a(18,"svg",12),g(19,"path",13)(20,"path",14),r(),d(21),m(22,"formatNumber"),r(),c(23,K,9,6,"div",15),r()()()),s&2&&(E("style-card-image",i.isImage())("style-card-text",!i.isImage()),w("routerLink",i.detailRoute()),n(),p(i.isImage()&&i.primaryExampleUrl()?1:-1),n(),p(i.isImage()?-1:2),n(3),E("badge-primary",i.isImage())("badge-success",!i.isImage()),n(),p(i.isImage()?6:7),n(2),p(i.style().nsfw?8:-1),n(2),f(i.style().name),n(2),P(" ",u(13,20,"styles.by")," ",i.creatorDisplayName()," "),n(2),p(i.style().info?14:-1),n(),p(i.displayTags().length>0?15:-1),n(6),_(" ",u(22,22,i.style().use_count)," "),n(2),p(i.showActions()?23:-1))},dependencies:[j,H,U],encapsulation:2,changeDetection:0});let e=o;return e})();export{oe as a};
