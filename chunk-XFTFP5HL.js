import{a as N}from"./chunk-VQOWBUFK.js";import{a as M}from"./chunk-3IAKBKGX.js";import{a as E}from"./chunk-ZPGUFHCW.js";import"./chunk-BV2EP4TL.js";import"./chunk-CRVG2NOB.js";import{b as W,e as B}from"./chunk-3B2Y74WR.js";import"./chunk-YL3TDIGQ.js";import"./chunk-LN47MBAJ.js";import{a as R}from"./chunk-OBD3L7BG.js";import"./chunk-PZF2KSPB.js";import{c as L}from"./chunk-MXBDCOJX.js";import{l as T}from"./chunk-JHAYVYNF.js";import{k as v,m as D}from"./chunk-BPDV6QKT.js";import{Db as b,N as g,Oa as n,Rb as p,Tb as d,X as a,Za as _,ga as C,gc as m,hc as c,ja as u,k as x,nc as k,ob as S,pb as I,r as y,tb as f,ub as s,vb as l,wb as w}from"./chunk-4EEEF725.js";import"./chunk-4CLCTAJ7.js";function V(t,i){t&1&&(s(0,"div",1)(1,"p",4),p(2),m(3,"transloco"),l()()),t&2&&(n(2),d(" ",c(3,1,"details.workers.loading")," "))}function A(t,i){if(t&1&&(s(0,"div",2)(1,"p",5),p(2),m(3,"transloco"),l(),s(4,"p",6),p(5),m(6,"transloco"),l(),s(7,"a",7),p(8),m(9,"transloco"),l()()),t&2){let h=b();n(2),d(" ",c(3,3,h.error())," "),n(3),d(" ",c(6,5,"details.workers.lookup.inactive_note")," "),n(3),d(" ",c(9,7,"details.workers.back_to_list")," ")}}function $(t,i){if(t&1&&(s(0,"div",3),w(1,"app-worker-card",8),l()),t&2){let h=b();n(),f("worker",h.worker())}}var Y=(()=>{let i=class i{constructor(){this.title=a(T),this.translator=a(R),this.destroyRef=a(C),this.route=a(W),this.workerService=a(E),this.params=D(this.route.params,{initialValue:{}}),this.worker=u(null),this.loading=u(!0),this.error=u(null),this.lookupType=k(()=>this.params().workerId?"id":"name"),this.lookupValue=k(()=>this.params().workerId??this.params().workerName??""),this.breadcrumbs=k(()=>{let e=[{label:"details.title",route:"/details"},{label:"details.tabs.workers",route:"/details/workers"}],r=this.worker();return r?e.push({label:r.name,raw:!0}):this.lookupValue()&&e.push({label:this.lookupValue(),raw:!0}),e})}ngOnInit(){y([this.translator.get("details.workers.lookup_title"),this.translator.get("app_title")]).pipe(v(this.destroyRef)).subscribe(([e,r])=>{this.title.setTitle(`${e} | ${r}`)}),this.route.params.pipe(v(this.destroyRef),g(e=>{let r=e.workerId,o=e.workerName;return this.loading.set(!0),this.error.set(null),r?this.workerService.getWorker(r):o?this.workerService.getWorkerByName(o):x(null)})).subscribe(e=>{this.worker.set(e),this.loading.set(!1),e||this.error.set("details.workers.lookup.not_found")})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=_({type:i,selectors:[["app-worker-lookup"]],decls:4,vars:2,consts:[[3,"items"],[1,"loading-container"],[1,"error-container"],[1,"worker-lookup-result"],[1,"text-body","text-content-secondary"],[1,"text-body","text-red-600","dark:text-red-400"],[1,"text-body","text-content-secondary","mt-2"],["routerLink","/details/workers",1,"btn","btn-secondary","mt-4"],["viewMode","public",3,"worker"]],template:function(r,o){r&1&&(w(0,"app-breadcrumb",0),S(1,V,4,3,"div",1)(2,A,10,9,"div",2)(3,$,2,1,"div",3)),r&2&&(f("items",o.breadcrumbs()),n(),I(o.loading()?1:o.error()?2:o.worker()?3:-1))},dependencies:[L,N,M,B],encapsulation:2,changeDetection:0});let t=i;return t})();export{Y as WorkerLookupComponent};
