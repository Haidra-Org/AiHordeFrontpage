import{a as J}from"./chunk-VPTPSFW4.js";import{a as q}from"./chunk-2KXHES2T.js";import{c as $,d as K}from"./chunk-YOLUTX5D.js";import{a as W}from"./chunk-OJGOUS72.js";import"./chunk-RN7KHVWD.js";import{a as G,c as F,d as U,e as N}from"./chunk-KSNJMSYC.js";import"./chunk-3PZAYDWK.js";import{k as j}from"./chunk-DWXO5IB4.js";import{c as I,g as P,k as T}from"./chunk-HKCT6KYV.js";import{$ as M,Ab as f,Bb as C,Ka as R,Ma as n,Mb as k,Pb as d,Q as V,Qb as p,Rb as E,V as u,Xa as z,_ as g,aa as S,ba as x,bc as l,cc as m,ea as L,ha as w,k as B,mb as _,nb as v,q as y,ra as H,sb as t,tb as i,ub as b,w as D,xb as A,y as O}from"./chunk-T5FNS33L.js";import"./chunk-4CLCTAJ7.js";var Q=(()=>{let a=class a{constructor(){this.httpClient=u(P),this.baseUrl="https://aihorde.net/api/v2"}getStatusModes(){return this.httpClient.get(`${this.baseUrl}/status/modes`).pipe(O(()=>B(null)))}};a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();function Y(e,a){if(e&1){let c=A();t(0,"a",29),f("click",function(){g(c);let o=C();return M(o.closeSidebarOnMobile())}),S(),t(1,"svg",11),b(2,"path",30),i(),x(),t(3,"span",13),d(4),l(5,"transloco"),i()()}if(e&2){let c=C();k("active",c.isActive("/admin/users")),n(4),p(m(5,3,"admin.nav.users"))}}function Z(e,a){e&1&&(t(0,"span",35),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function ee(e,a){e&1&&(t(0,"span",36),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function ie(e,a){e&1&&(t(0,"span",35),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function te(e,a){e&1&&(t(0,"span",36),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function ne(e,a){e&1&&(t(0,"span",35),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.active")))}function ae(e,a){e&1&&(t(0,"span",36),d(1),l(2,"transloco"),i()),e&2&&(n(),p(m(2,1,"admin.status.inactive")))}function oe(e,a){if(e&1&&(t(0,"div",33)(1,"span",34),d(2),l(3,"transloco"),i(),_(4,ne,3,3,"span",35)(5,ae,3,3,"span",36),i()),e&2){let c=C(2);n(2),p(m(3,2,"admin.status.raid_mode")),n(2),v(c.statusModes().raid_mode?4:5)}}function se(e,a){if(e&1&&(t(0,"div",17)(1,"h4",31),d(2,"Horde Status"),i(),t(3,"div",32)(4,"div",33)(5,"span",34),d(6),l(7,"transloco"),i(),_(8,Z,3,3,"span",35)(9,ee,3,3,"span",36),i(),t(10,"div",33)(11,"span",34),d(12),l(13,"transloco"),i(),_(14,ie,3,3,"span",35)(15,te,3,3,"span",36),i(),_(16,oe,6,4,"div",33),i()()),e&2){let c=C();n(6),p(m(7,5,"admin.status.maintenance_mode")),n(2),v(c.statusModes().maintenance_mode?8:9),n(4),p(m(13,7,"admin.status.invite_only")),n(2),v(c.statusModes().invite_only_mode?14:15),n(2),v(c.statusModes().raid_mode!==void 0?16:-1)}}function re(e,a){if(e&1){let c=A();t(0,"div",37),f("click",function(){g(c);let o=C();return M(o.toggleSidebar())})("keydown.enter",function(){g(c);let o=C();return M(o.toggleSidebar())})("keydown.space",function(){g(c);let o=C();return M(o.toggleSidebar())}),i()}}function de(e,a){e&1&&b(0,"router-outlet")}function le(e,a){e&1&&(t(0,"div",28)(1,"h2",38),d(2),l(3,"transloco"),i(),t(4,"p",39),d(5),l(6,"transloco"),i(),t(7,"a",40),d(8),l(9,"transloco"),i()()),e&2&&(n(2),E(" ",m(3,3,"admin.common.access_denied")," "),n(3),E(" ",m(6,5,"admin.common.login_prompt")," "),n(3),E(" ",m(9,7,"profile.nav_login")," "))}var me=1024,Be=(()=>{let a=class a{constructor(){this.title=u(j),this.translator=u(q),this.footerColor=u(J),this.router=u(U),this.destroyRef=u(L),this.hordeStatus=u(Q),this.platformId=u(H),this.auth=u(W),this.statusModes=w(null),this.sidebarOpen=w(!1),this.isDesktop=w(!1)}ngOnInit(){y([this.translator.get("admin.title"),this.translator.get("app_title")]).pipe(T(this.destroyRef)).subscribe(([s,o])=>{this.title.setTitle(`${s} | ${o}`)}),this.footerColor.setDarkMode(!0),I(this.platformId)&&this.updateScreenSize(),this.hordeStatus.getStatusModes().pipe(T(this.destroyRef)).subscribe(s=>{this.statusModes.set(s)}),this.router.events.pipe(D(s=>s instanceof G),T(this.destroyRef)).subscribe(()=>{this.isDesktop()||this.sidebarOpen.set(!1)})}onResize(){I(this.platformId)&&this.updateScreenSize()}updateScreenSize(){let s=window.innerWidth>=me,o=this.isDesktop();this.isDesktop.set(s),s&&!o&&this.sidebarOpen.set(!0),!s&&o&&this.sidebarOpen.set(!1)}toggleSidebar(){this.sidebarOpen.set(!this.sidebarOpen())}closeSidebarOnMobile(){this.isDesktop()||this.sidebarOpen.set(!1)}isActive(s){return this.router.url===s||this.router.url.startsWith(s+"/")}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=z({type:a,selectors:[["app-admin"]],hostBindings:function(o,r){o&1&&f("resize",function(){return r.onResize()},R)},decls:40,vars:28,consts:[[1,"admin-layout"],[1,"admin-sidebar"],[1,"admin-sidebar-content"],[1,"admin-sidebar-header"],["routerLink","/admin",1,"admin-sidebar-logo",3,"click"],[1,"admin-sidebar-title"],["aria-label","Close sidebar",1,"admin-sidebar-close-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-sidebar-close-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"admin-nav"],["routerLink","/admin",1,"admin-nav-item",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-nav-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"admin-nav-label"],["routerLink","/admin/workers",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"],["routerLink","/admin/users",1,"admin-nav-item",3,"active"],[1,"admin-status-section"],["role","button","tabindex","0","aria-label","Close sidebar",1,"admin-mobile-overlay"],[1,"admin-main"],[1,"admin-mobile-header"],[1,"admin-mobile-header-content"],["aria-label","Open sidebar menu",1,"admin-mobile-menu-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"admin-mobile-menu-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"admin-mobile-title"],[1,"admin-mobile-spacer"],[1,"admin-content"],[1,"admin-access-denied"],["routerLink","/admin/users",1,"admin-nav-item",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"admin-status-title"],[1,"admin-status-list"],[1,"admin-status-item"],[1,"admin-status-label"],[1,"badge-base","badge-danger"],[1,"badge-base","badge-success"],["role","button","tabindex","0","aria-label","Close sidebar",1,"admin-mobile-overlay",3,"click","keydown.enter","keydown.space"],[1,"admin-access-denied-title"],[1,"admin-access-denied-text"],["routerLink","/profile",1,"btn-primary"]],template:function(o,r){if(o&1&&(t(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"a",4),f("click",function(){return r.closeSidebarOnMobile()}),t(5,"span",5),d(6),l(7,"transloco"),i()(),t(8,"button",6),f("click",function(){return r.toggleSidebar()}),S(),t(9,"svg",7),b(10,"path",8),i()()(),x(),t(11,"nav",9)(12,"a",10),f("click",function(){return r.closeSidebarOnMobile()}),S(),t(13,"svg",11),b(14,"path",12),i(),x(),t(15,"span",13),d(16),l(17,"transloco"),i()(),t(18,"a",14),f("click",function(){return r.closeSidebarOnMobile()}),S(),t(19,"svg",11),b(20,"path",15),i(),x(),t(21,"span",13),d(22),l(23,"transloco"),i()(),_(24,Y,6,5,"a",16),i(),_(25,se,17,9,"div",17),i()(),_(26,re,1,0,"div",18),t(27,"main",19)(28,"header",20)(29,"div",21)(30,"button",22),f("click",function(){return r.toggleSidebar()}),S(),t(31,"svg",23),b(32,"path",24),i()(),x(),t(33,"span",25),d(34),l(35,"transloco"),i(),b(36,"div",26),i()(),t(37,"div",27),_(38,de,1,0,"router-outlet")(39,le,10,9,"div",28),i()()()),o&2){let h;n(),k("open",r.sidebarOpen())("desktop",r.isDesktop()),n(5),p(m(7,20,"admin.title")),n(6),k("active",r.isActive("/admin")&&!r.isActive("/admin/workers")&&!r.isActive("/admin/users")),n(4),p(m(17,22,"admin.nav.dashboard")),n(2),k("active",r.isActive("/admin/workers")),n(4),p(m(23,24,"admin.nav.workers")),n(2),v((h=r.auth.currentUser())!=null&&h.moderator?24:-1),n(),v(r.statusModes()?25:-1),n(),v(r.sidebarOpen()&&!r.isDesktop()?26:-1),n(),k("sidebar-open",r.isDesktop()),n(),k("desktop-hidden",r.isDesktop()),n(6),p(m(35,26,"admin.title")),n(4),v(r.auth.isLoggedIn()?38:39)}},dependencies:[$,K,N,F],encapsulation:2,changeDetection:0});let e=a;return e})();export{Be as AdminComponent};
