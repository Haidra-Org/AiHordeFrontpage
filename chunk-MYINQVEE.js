import{a as re,b as z,c as O,d as se}from"./chunk-KQZVQD3N.js";import{a as pe,b as me}from"./chunk-TWRQSRNJ.js";import"./chunk-ITLJRJUO.js";import{c as de}from"./chunk-BMIYH3UD.js";import{a as oe}from"./chunk-Z4QX4XJM.js";import"./chunk-T6V27EFK.js";import{b as ne,d as le,e as ae}from"./chunk-T4BZNTIM.js";import"./chunk-VFTR325L.js";import"./chunk-XFTKCJLM.js";import{k as J}from"./chunk-GZDNXZTC.js";import{Cb as P,Db as u,Ja as N,Ka as Q,Oa as t,Ob as A,Rb as o,Sb as r,Tb as S,Ub as U,X as R,Yb as Y,Za as X,Zb as ee,_b as te,aa as T,ba as I,ca as L,cc as ie,da as $,ga as K,gc as c,hc as _,ja as D,nc as k,ob as p,pb as m,qb as q,rb as M,sb as H,tb as j,ub as l,vb as n,wb as b,zb as G}from"./chunk-QF4LG6ZD.js";import"./chunk-4CLCTAJ7.js";var _e=()=>["/details/styles"],xe=(e,d)=>d.id,ce=(e,d)=>d.name;function ue(e,d){e&1&&(l(0,"div",4),b(1,"div",8),l(2,"p"),o(3),c(4,"transloco"),n()()),e&2&&(t(3),r(_(4,1,"styles.loading")))}function ye(e,d){if(e&1&&(l(0,"div",5),L(),l(1,"svg",9),b(2,"path",10),n(),$(),l(3,"p"),o(4),n(),l(5,"button",11),o(6),c(7,"transloco"),n()()),e&2){let i=u();t(4),r(i.error()),t(),j("routerLink",ie(5,_e)),t(),S(" ",_(7,3,"styles.back_to_list")," ")}}function Ce(e,d){if(e&1){let i=G();l(0,"app-style-form",12),P("formSubmit",function(s){T(i);let x=u();return I(x.onFormSubmit(s))})("formCancel",function(){T(i);let s=u();return I(s.onFormCancel())}),n()}if(e&2){let i=u();j("mode","edit")("styleType",i.styleType())("initialValues",i.style())("saving",i.saving())}}function Se(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.type.image")," ")}function fe(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.type.text")," ")}function ve(e,d){e&1&&(l(0,"span",18),o(1,"NSFW"),n())}function ge(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.public")," ")}function he(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.private")," ")}function Ee(e,d){if(e&1&&(l(0,"p",23),o(1),n()),e&2){let i,a=u(2);t(),r((i=a.style())==null?null:i.info)}}function be(e,d){if(e&1){let i=G();l(0,"button",25),P("click",function(){T(i);let s=u(2);return I(s.toggleEditMode())}),L(),l(1,"svg",2),b(2,"path",38),n(),o(3),c(4,"transloco"),n(),$(),l(5,"button",39),P("click",function(){T(i);let s=u(2);return I(s.confirmDelete())}),L(),l(6,"svg",2),b(7,"path",40),n(),o(8),c(9,"transloco"),n()}if(e&2){let i=u(2);t(3),S(" ",_(4,3,"styles.edit")," "),t(2),j("disabled",i.deleting()),t(3),S(" ",_(9,5,"styles.delete")," ")}}function Te(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.deleting")," ")}function Ie(e,d){e&1&&(o(0),c(1,"transloco")),e&2&&S(" ",_(1,1,"styles.confirm_delete")," ")}function De(e,d){if(e&1){let i=G();l(0,"div",27)(1,"div",41)(2,"h3"),o(3),c(4,"transloco"),n(),l(5,"p"),o(6),c(7,"transloco"),n(),l(8,"div",42)(9,"button",43),P("click",function(){T(i);let s=u(2);return I(s.cancelDelete())}),o(10),c(11,"transloco"),n(),l(12,"button",44),P("click",function(){T(i);let s=u(2);return I(s.onDelete())}),p(13,Te,2,3)(14,Ie,2,3),n()()()()}if(e&2){let i=u(2);t(3),r(_(4,6,"styles.delete_confirm_title")),t(3),r(_(7,8,"styles.delete_confirm_message")),t(3),j("disabled",i.deleting()),t(),S(" ",_(11,10,"styles.cancel")," "),t(2),j("disabled",i.deleting()),t(),m(i.deleting()?13:14)}}function Pe(e,d){if(e&1&&(l(0,"span",47),o(1),n()),e&2){let i=d.$implicit;t(),r(i)}}function ke(e,d){if(e&1&&(l(0,"div",36)(1,"span",45),o(2),c(3,"transloco"),n(),l(4,"div",46),M(5,Pe,2,1,"span",47,q),n()()),e&2){let i=u(2);t(2),S("",_(3,1,"styles.tags"),":"),t(3),H(i.style().tags)}}function we(e,d){if(e&1&&(l(0,"span",48),o(1),n()),e&2){let i=d.$implicit;t(),r(i)}}function Be(e,d){if(e&1&&(l(0,"div",36)(1,"span",45),o(2),c(3,"transloco"),n(),l(4,"div",46),M(5,we,2,1,"span",48,q),n()()),e&2){let i=u(2);t(2),S("",_(3,1,"styles.compatible_models"),":"),t(3),H(i.style().models)}}function Ve(e,d){if(e&1){let i=G();l(0,"div",30)(1,"div",31)(2,"h2",32),o(3),c(4,"transloco"),n(),l(5,"button",25),P("click",function(){T(i);let s=u(2);return I(s.copyToClipboard(s.styleJson()))}),L(),l(6,"svg",2),b(7,"path",33),n(),o(8),c(9,"transloco"),n()(),$(),b(10,"pre",49),n()}if(e&2){let i=u(2);t(3),S(" ",_(4,3,"styles.json_view")," "),t(5),S(" ",_(9,5,"styles.copy")," "),t(2),j("innerHTML",i.styleJsonHighlighted(),N)}}function Fe(e,d){e&1&&(l(0,"span",55),o(1),c(2,"transloco"),n()),e&2&&(t(),r(_(2,1,"styles.primary")))}function Le(e,d){if(e&1&&(l(0,"div",53),b(1,"img",54),p(2,Fe,3,3,"span",55),n()),e&2){let i,a=d.$implicit,s=u(4);A("image-grid-item-primary",a.primary),t(),j("src",a.url,Q)("alt","Example for "+((i=s.style())==null?null:i.name)),t(),m(a.primary?2:-1)}}function Me(e,d){if(e&1&&(l(0,"div",50)(1,"h2",32),o(2),c(3,"transloco"),n(),l(4,"div",51),M(5,Le,3,5,"div",52,xe),n()()),e&2){u();let i=te(0);t(2),S(" ",_(3,1,"styles.examples")," "),t(3),H(i.examples)}}function He(e,d){if(e&1&&(Y(0),p(1,Me,7,3,"div",50)),e&2){let i=ee(u(2).style());t(),m(i.examples&&i.examples.length>0?1:-1)}}function je(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.sampler")),t(3),r((i=a.imageStyleParams())==null?null:i.sampler_name)}}function Je(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.cfg_scale")),t(3),r((i=a.imageStyleParams())==null?null:i.cfg_scale)}}function Re(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.steps")),t(3),r((i=a.imageStyleParams())==null?null:i.steps)}}function $e(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.width")),t(3),S("",(i=a.imageStyleParams())==null?null:i.width,"px")}}function Ge(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.height")),t(3),S("",(i=a.imageStyleParams())==null?null:i.height,"px")}}function qe(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.clip_skip")),t(3),r((i=a.imageStyleParams())==null?null:i.clip_skip)}}function Ue(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),S(" ",_(3,2,"styles.form.denoising_strength")," "),t(3),r((i=a.imageStyleParams())==null?null:i.denoising_strength)}}function Ae(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),S(" ",_(3,2,"styles.form.facefixer_strength")," "),t(3),r((i=a.imageStyleParams())==null?null:i.facefixer_strength)}}function ze(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.workflow")),t(3),r((i=a.imageStyleParams())==null?null:i.workflow)}}function Oe(e,d){e&1&&(l(0,"span",62),o(1,"Karras"),n())}function We(e,d){e&1&&(l(0,"span",62),o(1,"Hires Fix"),n())}function Ze(e,d){e&1&&(l(0,"span",62),o(1,"Tiling"),n())}function Ke(e,d){e&1&&(l(0,"span",62),o(1,"Transparent"),n())}function Ne(e,d){if(e&1&&(l(0,"div",59)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",61),p(5,Oe,2,0,"span",62),p(6,We,2,0,"span",62),p(7,Ze,2,0,"span",62),p(8,Ke,2,0,"span",62),n()()),e&2){let i,a,s,x,v=u(3);t(2),r(_(3,5,"styles.flags")),t(3),m((i=v.imageStyleParams())!=null&&i.karras?5:-1),t(),m((a=v.imageStyleParams())!=null&&a.hires_fix?6:-1),t(),m((s=v.imageStyleParams())!=null&&s.tiling?7:-1),t(),m((x=v.imageStyleParams())!=null&&x.transparent?8:-1)}}function Qe(e,d){if(e&1&&(l(0,"span",63),o(1),n()),e&2){let i=d.$implicit;t(),r(i)}}function Xe(e,d){if(e&1&&(l(0,"div",60)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",46),M(5,Qe,2,1,"span",63,q),n()()),e&2){let i=u(3);t(2),r(_(3,1,"styles.form.post_processing")),t(3),H(i.imageStyleParams().post_processing)}}function Ye(e,d){if(e&1&&o(0),e&2){let i=u().$implicit;S(" | trigger: ",i.inject_trigger," ")}}function et(e,d){if(e&1&&(l(0,"div",65)(1,"span",66),o(2),n(),l(3,"span",67),o(4),p(5,Ye,1,1),n()()),e&2){let i=d.$implicit;t(2),r(i.name),t(2),U(" model: ",i.model??1," | clip: ",i.clip??1," "),t(),m(i.inject_trigger?5:-1)}}function tt(e,d){if(e&1&&(l(0,"div",60)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",64),M(5,et,6,4,"div",65,ce),n()()),e&2){let i=u(3);t(2),r(_(3,1,"styles.form.loras")),t(3),H(i.imageStyleParams().loras)}}function it(e,d){if(e&1&&(l(0,"div",69)(1,"span",70),o(2),n(),l(3,"span",71),o(4),n()()),e&2){let i=d.$implicit;t(2),r(i.name),t(2),U(" inject: ",i.inject_ti??"prompt"," | strength: ",i.strength??1," ")}}function nt(e,d){if(e&1&&(l(0,"div",60)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",68),M(5,it,5,3,"div",69,ce),n()()),e&2){let i=u(3);t(2),r(_(3,1,"styles.form.tis")),t(3),H(i.imageStyleParams().tis)}}function lt(e,d){if(e&1&&(l(0,"div",30)(1,"h2",32),o(2),c(3,"transloco"),n(),l(4,"div",56)(5,"dl",57),p(6,je,6,4,"div",58),p(7,Je,6,4,"div",58),p(8,Re,6,4,"div",58),p(9,$e,6,4,"div",58),p(10,Ge,6,4,"div",58),p(11,qe,6,4,"div",58),p(12,Ue,6,4,"div",58),p(13,Ae,6,4,"div",58),p(14,ze,6,4,"div",58),n(),p(15,Ne,9,7,"div",59),p(16,Xe,7,3,"div",60),p(17,tt,7,3,"div",60),p(18,nt,7,3,"div",60),n()()),e&2){let i,a,s,x,v,E,g,w,B,h,V,F,C,y=u(2);t(2),S(" ",_(3,14,"styles.generation_params")," "),t(4),m((i=y.imageStyleParams())!=null&&i.sampler_name?6:-1),t(),m(((a=y.imageStyleParams())==null?null:a.cfg_scale)!==void 0?7:-1),t(),m(((s=y.imageStyleParams())==null?null:s.steps)!==void 0?8:-1),t(),m(((x=y.imageStyleParams())==null?null:x.width)!==void 0?9:-1),t(),m(((v=y.imageStyleParams())==null?null:v.height)!==void 0?10:-1),t(),m(((E=y.imageStyleParams())==null?null:E.clip_skip)!==void 0?11:-1),t(),m(((g=y.imageStyleParams())==null?null:g.denoising_strength)!==void 0?12:-1),t(),m(((w=y.imageStyleParams())==null?null:w.facefixer_strength)!==void 0?13:-1),t(),m((B=y.imageStyleParams())!=null&&B.workflow?14:-1),t(),m(((h=y.imageStyleParams())==null?null:h.karras)!==void 0||((h=y.imageStyleParams())==null?null:h.hires_fix)!==void 0||((h=y.imageStyleParams())==null?null:h.tiling)!==void 0||((h=y.imageStyleParams())==null?null:h.transparent)!==void 0?15:-1),t(),m((V=y.imageStyleParams())!=null&&V.post_processing&&y.imageStyleParams().post_processing.length>0?16:-1),t(),m((F=y.imageStyleParams())!=null&&F.loras&&y.imageStyleParams().loras.length>0?17:-1),t(),m((C=y.imageStyleParams())!=null&&C.tis&&y.imageStyleParams().tis.length>0?18:-1)}}function at(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.temperature")),t(3),r((i=a.textStyleParams())==null?null:i.temperature)}}function ot(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.top_p")),t(3),r((i=a.textStyleParams())==null?null:i.top_p)}}function dt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.top_k")),t(3),r((i=a.textStyleParams())==null?null:i.top_k)}}function rt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.top_a")),t(3),r((i=a.textStyleParams())==null?null:i.top_a)}}function st(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.min_p")),t(3),r((i=a.textStyleParams())==null?null:i.min_p)}}function pt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.typical")),t(3),r((i=a.textStyleParams())==null?null:i.typical)}}function mt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.tfs")),t(3),r((i=a.textStyleParams())==null?null:i.tfs)}}function ct(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.rep_pen")),t(3),r((i=a.textStyleParams())==null?null:i.rep_pen)}}function _t(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.rep_pen_range")),t(3),r((i=a.textStyleParams())==null?null:i.rep_pen_range)}}function xt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.rep_pen_slope")),t(3),r((i=a.textStyleParams())==null?null:i.rep_pen_slope)}}function ut(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.smoothing_factor")),t(3),r((i=a.textStyleParams())==null?null:i.smoothing_factor)}}function yt(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.dynatemp_range")),t(3),r((i=a.textStyleParams())==null?null:i.dynatemp_range)}}function Ct(e,d){if(e&1&&(l(0,"div",58)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd"),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.dynatemp_exponent")),t(3),r((i=a.textStyleParams())==null?null:i.dynatemp_exponent)}}function St(e,d){e&1&&(l(0,"span",47),o(1,"Single Line"),n())}function ft(e,d){e&1&&(l(0,"span",47),o(1,"Default Bad Words"),n())}function vt(e,d){e&1&&(l(0,"span",73),o(1,"Add Sentence Space"),n())}function gt(e,d){e&1&&(l(0,"span",73),o(1,"Remove Blank Lines"),n())}function ht(e,d){e&1&&(l(0,"span",73),o(1,"Remove Special Chars"),n())}function Et(e,d){e&1&&(l(0,"span",73),o(1,"Trim Incomplete"),n())}function bt(e,d){if(e&1&&(l(0,"div",59)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",61),p(5,St,2,0,"span",47),p(6,ft,2,0,"span",47),p(7,vt,2,0,"span",73),p(8,gt,2,0,"span",73),p(9,ht,2,0,"span",73),p(10,Et,2,0,"span",73),n()()),e&2){let i,a,s,x,v,E,g=u(3);t(2),r(_(3,7,"styles.flags")),t(3),m((i=g.textStyleParams())!=null&&i.singleline?5:-1),t(),m((a=g.textStyleParams())!=null&&a.use_default_badwordsids?6:-1),t(),m((s=g.textStyleParams())!=null&&s.frmtadsnsp?7:-1),t(),m((x=g.textStyleParams())!=null&&x.frmtrmblln?8:-1),t(),m((v=g.textStyleParams())!=null&&v.frmtrmspch?9:-1),t(),m((E=g.textStyleParams())!=null&&E.frmttriminc?10:-1)}}function Tt(e,d){if(e&1&&(l(0,"div",60)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",74),o(5),n()()),e&2){let i,a=u(3);t(2),r(_(3,2,"styles.form.sampler_order")),t(3),S(" ",(i=a.textStyleParams())==null||i.sampler_order==null?null:i.sampler_order.join(", ")," ")}}function It(e,d){if(e&1&&(l(0,"span",74),o(1),n()),e&2){let i=d.$implicit;t(),r(i)}}function Dt(e,d){if(e&1&&(l(0,"div",60)(1,"dt"),o(2),c(3,"transloco"),n(),l(4,"dd",46),M(5,It,2,1,"span",74,q),n()()),e&2){let i=u(3);t(2),r(_(3,1,"styles.form.stop_sequence")),t(3),H(i.textStyleParams().stop_sequence)}}function Pt(e,d){if(e&1&&(l(0,"div",30)(1,"h2",32),o(2),c(3,"transloco"),n(),l(4,"div",56)(5,"dl",72),p(6,at,6,4,"div",58),p(7,ot,6,4,"div",58),p(8,dt,6,4,"div",58),p(9,rt,6,4,"div",58),p(10,st,6,4,"div",58),p(11,pt,6,4,"div",58),p(12,mt,6,4,"div",58),p(13,ct,6,4,"div",58),p(14,_t,6,4,"div",58),p(15,xt,6,4,"div",58),p(16,ut,6,4,"div",58),p(17,yt,6,4,"div",58),p(18,Ct,6,4,"div",58),n(),p(19,bt,11,9,"div",59),p(20,Tt,6,4,"div",60),p(21,Dt,7,3,"div",60),n()()),e&2){let i,a,s,x,v,E,g,w,B,h,V,F,C,y,W,Z,f=u(2);t(2),S(" ",_(3,17,"styles.generation_params")," "),t(4),m(((i=f.textStyleParams())==null?null:i.temperature)!==void 0?6:-1),t(),m(((a=f.textStyleParams())==null?null:a.top_p)!==void 0?7:-1),t(),m(((s=f.textStyleParams())==null?null:s.top_k)!==void 0?8:-1),t(),m(((x=f.textStyleParams())==null?null:x.top_a)!==void 0?9:-1),t(),m(((v=f.textStyleParams())==null?null:v.min_p)!==void 0?10:-1),t(),m(((E=f.textStyleParams())==null?null:E.typical)!==void 0?11:-1),t(),m(((g=f.textStyleParams())==null?null:g.tfs)!==void 0?12:-1),t(),m(((w=f.textStyleParams())==null?null:w.rep_pen)!==void 0?13:-1),t(),m(((B=f.textStyleParams())==null?null:B.rep_pen_range)!==void 0?14:-1),t(),m(((h=f.textStyleParams())==null?null:h.rep_pen_slope)!==void 0?15:-1),t(),m(((V=f.textStyleParams())==null?null:V.smoothing_factor)!==void 0?16:-1),t(),m(((F=f.textStyleParams())==null?null:F.dynatemp_range)!==void 0?17:-1),t(),m(((C=f.textStyleParams())==null?null:C.dynatemp_exponent)!==void 0?18:-1),t(),m(((y=f.textStyleParams())==null?null:y.singleline)!==void 0||((y=f.textStyleParams())==null?null:y.frmtadsnsp)!==void 0||((y=f.textStyleParams())==null?null:y.frmtrmblln)!==void 0||((y=f.textStyleParams())==null?null:y.frmtrmspch)!==void 0||((y=f.textStyleParams())==null?null:y.frmttriminc)!==void 0||((y=f.textStyleParams())==null?null:y.use_default_badwordsids)!==void 0?19:-1),t(),m((W=f.textStyleParams())!=null&&W.sampler_order&&f.textStyleParams().sampler_order.length>0?20:-1),t(),m((Z=f.textStyleParams())!=null&&Z.stop_sequence&&f.textStyleParams().stop_sequence.length>0?21:-1)}}function kt(e,d){if(e&1){let i=G();l(0,"article",7)(1,"header",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),p(6,Se,2,3)(7,fe,2,3),n(),p(8,ve,2,0,"span",18),l(9,"span",17),p(10,ge,2,3)(11,he,2,3),n()(),l(12,"h1",19),o(13),n(),l(14,"div",20)(15,"span"),o(16),c(17,"transloco"),n(),l(18,"span",21),o(19,"\u2022"),n(),l(20,"span"),o(21),c(22,"transloco"),n(),l(23,"span",21),o(24,"\u2022"),n(),l(25,"span",22),o(26),n()(),p(27,Ee,2,1,"p",23),n(),l(28,"div",24)(29,"button",25),P("click",function(){T(i);let s=u();return I(s.toggleJsonView())}),L(),l(30,"svg",2),b(31,"path",26),n(),o(32),c(33,"transloco"),c(34,"transloco"),n(),p(35,be,10,7),n()()(),p(36,De,15,12,"div",27),$(),l(37,"div",28)(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),o(42),c(43,"transloco"),n(),l(44,"button",25),P("click",function(){let s;T(i);let x=u();return I(x.copyToClipboard(((s=x.style())==null?null:s.prompt)??""))}),L(),l(45,"svg",2),b(46,"path",33),n(),o(47),c(48,"transloco"),n()(),$(),l(49,"pre",34),o(50),n()(),l(51,"div",35),p(52,ke,7,3,"div",36),p(53,Be,7,3,"div",36),n(),p(54,Ve,11,7,"div",30),p(55,He,2,2),n(),l(56,"aside",37),p(57,lt,19,16,"div",30),p(58,Pt,22,19,"div",30),n()()()}if(e&2){let i,a,s,x,v,E,g,w,B,h,V,F,C=u();t(5),A("badge-primary",C.isImageStyle())("badge-success",C.isTextStyle()),t(),m(C.isImageStyle()?6:7),t(2),m((i=C.style())!=null&&i.nsfw?8:-1),t(),A("badge-success",(a=C.style())==null?null:a.public)("badge-secondary",!((s=C.style())!=null&&s.public)),t(),m((x=C.style())!=null&&x.public?10:11),t(3),r((v=C.style())==null?null:v.name),t(3),U("",_(17,30,"styles.by")," ",(E=C.style())==null?null:E.creator),t(5),U("",(g=C.style())==null?null:g.use_count," ",_(22,32,"styles.uses")),t(5),r((w=C.style())==null?null:w.id),t(),m((B=C.style())!=null&&B.info?27:-1),t(5),S(" ",C.showJsonView()?_(33,34,"styles.hide_json"):_(34,36,"styles.show_json")," "),t(3),m(C.isOwner()?35:-1),t(),m(C.showDeleteConfirm()?36:-1),t(6),S(" ",_(43,38,"styles.prompt_template")," "),t(5),S(" ",_(48,40,"styles.copy")," "),t(3),r((h=C.style())==null?null:h.prompt),t(2),m((V=C.style())!=null&&V.tags&&C.style().tags.length>0?52:-1),t(),m((F=C.style())!=null&&F.models&&C.style().models.length>0?53:-1),t(),m(C.showJsonView()?54:-1),t(),m(C.isImageStyle()&&C.style()?55:-1),t(2),m(C.imageStyleParams()?57:-1),t(),m(C.textStyleParams()?58:-1)}}var qt=(()=>{let d=class d{constructor(){this.route=R(ne),this.router=R(le),this.styleService=R(re),this.authService=R(oe),this.destroyRef=R(K),this.loading=D(!0),this.error=D(null),this.style=D(null),this.styleType=D("image"),this.editMode=D(!1),this.saving=D(!1),this.deleting=D(!1),this.showJsonView=D(!1),this.showDeleteConfirm=D(!1),this.isLoggedIn=k(()=>this.authService.isLoggedIn()),this.currentUser=k(()=>this.authService.currentUser()),this.isOwner=k(()=>{let a=this.style(),s=this.currentUser();if(!a||!s)return!1;let x=a.creator.split("#");return x.length>=2?parseInt(x[x.length-1],10)===s.id:a.creator.startsWith(s.username)}),this.isImageStyle=k(()=>{let a=this.style();return a?z(a):!1}),this.isTextStyle=k(()=>{let a=this.style();return a?O(a):!1}),this.imageStyleParams=k(()=>{let a=this.style();return a&&z(a)?a.params:null}),this.textStyleParams=k(()=>{let a=this.style();return a&&O(a)?a.params:null}),this.styleJson=k(()=>{let a=this.style();return pe(a)}),this.styleJsonHighlighted=k(()=>me(this.styleJson()))}ngOnInit(){this.route.params.pipe(J(this.destroyRef)).subscribe(a=>{let s=a.type,x=a.styleId;s&&x&&(this.styleType.set(s),this.loadStyle(x,s))})}loadStyle(a,s){this.loading.set(!0),this.error.set(null),s==="image"?this.styleService.getImageStyle(a).pipe(J(this.destroyRef)).subscribe({next:x=>{this.style.set(x),this.loading.set(!1)},error:x=>{console.error("Error loading style:",x),this.error.set(x.message||"Failed to load style"),this.loading.set(!1)}}):this.styleService.getTextStyle(a).pipe(J(this.destroyRef)).subscribe({next:x=>{this.style.set(x),this.loading.set(!1)},error:x=>{console.error("Error loading style:",x),this.error.set(x.message||"Failed to load style"),this.loading.set(!1)}})}toggleEditMode(){this.editMode.update(a=>!a),this.showJsonView.set(!1)}toggleJsonView(){this.showJsonView.update(a=>!a)}onFormSubmit(a){let s=this.style();s&&(this.saving.set(!0),this.error.set(null),this.styleType()==="image"?this.styleService.updateImageStyle(s.id,a.payload).pipe(J(this.destroyRef)).subscribe({next:()=>{this.loadStyle(s.id,"image"),this.editMode.set(!1),this.saving.set(!1)},error:x=>{console.error("Error updating style:",x),this.error.set(x.message||"Failed to update style"),this.saving.set(!1)}}):this.styleService.updateTextStyle(s.id,a.payload).pipe(J(this.destroyRef)).subscribe({next:()=>{this.loadStyle(s.id,"text"),this.editMode.set(!1),this.saving.set(!1)},error:x=>{console.error("Error updating style:",x),this.error.set(x.message||"Failed to update style"),this.saving.set(!1)}}))}onFormCancel(){this.editMode.set(!1)}confirmDelete(){this.showDeleteConfirm.set(!0)}cancelDelete(){this.showDeleteConfirm.set(!1)}onDelete(){let a=this.style();if(!a)return;this.deleting.set(!0),this.error.set(null),(this.styleType()==="image"?this.styleService.deleteImageStyle(a.id):this.styleService.deleteTextStyle(a.id)).pipe(J(this.destroyRef)).subscribe({next:()=>{this.deleting.set(!1),this.showDeleteConfirm.set(!1),this.router.navigate(["/details/styles"])},error:x=>{console.error("Error deleting style:",x),this.error.set(x.message||"Failed to delete style"),this.deleting.set(!1),this.showDeleteConfirm.set(!1)}})}goBack(){this.router.navigate(["/details/styles"])}copyToClipboard(a){navigator.clipboard.writeText(a).catch(s=>{console.error("Failed to copy:",s)})}};d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=X({type:d,selectors:[["app-style-detail"]],decls:11,vars:7,consts:[[1,"stack-lg"],["type","button",1,"btn-source-control",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"state-container","text-secondary"],[1,"state-container","state-error"],[3,"mode","styleType","initialValues","saving"],[1,"card","card-bg-primary","card-full","style-detail-card"],[1,"spinner","spinner-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"state-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"],["type","button",1,"btn-source-control",3,"routerLink"],[3,"formSubmit","formCancel","mode","styleType","initialValues","saving"],[1,"style-detail-header"],[1,"style-detail-title-row"],[1,"style-detail-title-section"],[1,"style-detail-badges"],[1,"badge-base"],[1,"badge-base","badge-danger"],[1,"style-detail-title"],[1,"style-detail-meta"],[1,"style-detail-meta-divider"],[1,"style-detail-id"],[1,"style-detail-description"],[1,"style-detail-actions"],["type","button",1,"btn-source-control","btn-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"],[1,"modal-overlay"],[1,"style-detail-content"],[1,"style-detail-main"],[1,"style-detail-section"],[1,"style-detail-section-header"],[1,"style-detail-section-title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"],[1,"code-block-compact"],[1,"style-detail-tags-models"],[1,"style-detail-inline-section"],[1,"style-detail-sidebar"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"],["type","button",1,"btn-source-control","btn-sm",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"modal-panel"],[1,"modal-actions"],["type","button",1,"btn-source-control",3,"click","disabled"],["type","button",1,"btn-primary","btn-danger",3,"click","disabled"],[1,"style-detail-inline-label"],[1,"badge-container-inline"],[1,"badge-base","badge-info","badge-sm"],[1,"badge-base","badge-secondary","badge-sm"],[1,"code-block","code-block-sm","code-block-bordered","code-block-scroll",3,"innerHTML"],[1,"style-detail-section","style-detail-examples"],[1,"image-grid","image-grid-compact"],[1,"image-grid-item",3,"image-grid-item-primary"],[1,"image-grid-item"],["loading","lazy",3,"src","alt"],[1,"image-badge"],[1,"style-detail-params-section"],[1,"style-detail-params"],[1,"style-detail-param"],[1,"style-detail-param","style-detail-param-flags"],[1,"style-detail-param","style-detail-param-full"],[1,"style-detail-flags"],[1,"badge-base","badge-success","badge-sm"],[1,"badge-base","badge-purple","badge-sm"],[1,"style-detail-loras"],[1,"style-detail-lora-item"],[1,"style-detail-lora-name"],[1,"style-detail-lora-values"],[1,"style-detail-tis"],[1,"style-detail-ti-item"],[1,"style-detail-ti-name"],[1,"style-detail-ti-values"],[1,"style-detail-params","style-detail-params-compact"],[1,"badge-base","badge-outline","badge-sm"],[1,"style-detail-code-inline"]],template:function(s,x){s&1&&(l(0,"div",0)(1,"div")(2,"button",1),P("click",function(){return x.goBack()}),L(),l(3,"svg",2),b(4,"path",3),n(),o(5),c(6,"transloco"),n()(),p(7,ue,5,3,"div",4),p(8,ye,8,6,"div",5),p(9,Ce,1,4,"app-style-form",6),p(10,kt,59,42,"article",7),n()),s&2&&(t(5),S(" ",_(6,5,"styles.back_to_list")," "),t(2),m(x.loading()?7:-1),t(),m(x.error()&&!x.loading()?8:-1),t(),m(x.style()&&x.editMode()&&!x.loading()?9:-1),t(),m(x.style()&&!x.editMode()&&!x.loading()?10:-1))},dependencies:[de,ae,se],encapsulation:2,changeDetection:0});let e=d;return e})();export{qt as StyleDetailComponent};
